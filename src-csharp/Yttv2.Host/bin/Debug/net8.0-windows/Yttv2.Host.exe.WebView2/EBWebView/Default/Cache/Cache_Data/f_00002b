import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/VideoCard.jsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=cd56faf3"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/yttv2/src/components/VideoCard.jsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=cd56faf3"; const React = __vite__cjsImport3_react.__esModule ? __vite__cjsImport3_react.default : __vite__cjsImport3_react; const useState = __vite__cjsImport3_react["useState"]; const useRef = __vite__cjsImport3_react["useRef"];
import Card from "/src/components/Card.jsx";
import CardThumbnail from "/src/components/CardThumbnail.jsx";
import CardContent from "/src/components/CardContent.jsx";
import CardActions from "/src/components/CardActions.jsx";
import BulkTagColorGrid from "/src/components/BulkTagColorGrid.jsx";
import StarColorPicker from "/src/components/StarColorPicker.jsx";
import { getThumbnailUrl } from "/src/utils/youtubeUtils.js";
import { FOLDER_COLORS, getFolderColorById } from "/src/utils/folderColors.js";
import { usePinStore } from "/src/store/pinStore.js";
import { useLayoutStore } from "/src/store/layoutStore.js";
import { useFolderStore } from "/src/store/folderStore.js";
import { Pin } from "/node_modules/.vite/deps/lucide-react.js?v=cd56faf3";
const VideoCard = ({
  video,
  index,
  originalIndex,
  isSelected = false,
  isCurrentlyPlaying = false,
  videoFolders = [],
  selectedFolder = null,
  onVideoClick,
  onStarClick,
  onStarColorLeftClick,
  onStarColorRightClick,
  onMenuOptionClick,
  onQuickAssign,
  bulkTagMode = false,
  bulkTagSelections = /* @__PURE__ */ new Set(),
  onBulkTagColorClick,
  onPinClick,
  onSecondPlayerSelect,
  progress = 0,
  isWatched = false,
  isStickied = false,
  showTimer = false
  // New prop to control timer visibility
}) => {
  _s();
  const { inspectMode } = useLayoutStore();
  const { quickAssignFolder } = useFolderStore();
  const getInspectTitle = (label) => inspectMode ? label : void 0;
  const [isHovered, setIsHovered] = useState(false);
  const [isStarHovered, setIsStarHovered] = useState(false);
  const starHoverTimeoutRef = useRef(null);
  const starHoverDelayRef = useRef(null);
  const thumbnailUrl = getThumbnailUrl(video.video_id, "medium");
  const primaryFolder = videoFolders.length > 0 ? getFolderColorById(videoFolders[0]) : null;
  const quickAssignColor = getFolderColorById(quickAssignFolder);
  const isPinnedVideo = usePinStore(
    (state) => state.pinnedVideos.some((v) => v.id === video.id) && !state.priorityPinIds.includes(video.id)
  );
  const isPriority = usePinStore((state) => state.priorityPinIds.includes(video.id));
  const { togglePin, togglePriorityPin } = usePinStore();
  const pinLongPressTimerRef = useRef(null);
  const [activePin, setActivePin] = useState(null);
  const handlePinMouseDown = (e) => {
    e.stopPropagation();
    setActivePin("pressing");
    pinLongPressTimerRef.current = setTimeout(() => {
      togglePriorityPin(video);
      setActivePin("long-pressed");
      pinLongPressTimerRef.current = null;
    }, 600);
  };
  const handlePinMouseUp = (e) => {
    e.stopPropagation();
    setActivePin(null);
    if (pinLongPressTimerRef.current) {
      clearTimeout(pinLongPressTimerRef.current);
      pinLongPressTimerRef.current = null;
      togglePin(video);
      if (onPinClick) onPinClick(video);
    }
  };
  const handlePinMouseLeave = (e) => {
    if (pinLongPressTimerRef.current) {
      clearTimeout(pinLongPressTimerRef.current);
      pinLongPressTimerRef.current = null;
      setActivePin(null);
    }
  };
  const pinnedAt = usePinStore((state) => {
    const pin = state.pinnedVideos.find((v) => v.id === video.id);
    return pin ? pin.pinnedAt : null;
  });
  const [timeRemaining, setTimeRemaining] = useState("");
  React.useEffect(() => {
    if (!showTimer || !isPinnedVideo || !pinnedAt) {
      if (timeRemaining) setTimeRemaining("");
      return;
    }
    const updateTimer = () => {
      const now = Date.now();
      const expiresAt = pinnedAt + 24 * 60 * 60 * 1e3;
      const diff = expiresAt - now;
      if (diff <= 0) {
        setTimeRemaining("Expired");
        return;
      }
      const hours = Math.floor(diff / (1e3 * 60 * 60));
      const minutes = Math.floor(diff % (1e3 * 60 * 60) / (1e3 * 60));
      const seconds = Math.floor(diff % (1e3 * 60) / 1e3);
      const parts = [];
      if (hours > 0) parts.push(`${hours}h`);
      if (minutes > 0 || hours > 0) parts.push(`${minutes}m`);
      parts.push(`${seconds}s`);
      setTimeRemaining(parts.join(" "));
    };
    updateTimer();
    const interval = setInterval(updateTimer, 1e3);
    return () => clearInterval(interval);
  }, [isPinnedVideo, pinnedAt, showTimer]);
  const splatterPath = "M47.5,12.2c0,0-2.3,16.2-7.8,19.3c-5.5,3.1-17.7-6.2-17.7-6.2s3.8,11.2-1.7,16.5c-5.5,5.3-20.2-2.1-20.2-2.1 s12.5,9.6,9.2,16.5c-3.3,6.9-10.7,5.5-10.7,5.5s12.9,5.7,12.5,14.7c-0.4,9-10.6,15.6-10.6,15.6s15.3-1.6,20.2,4.2 c4.9,5.8-0.9,13.8-0.9,13.8s9.4-9,16.9-5.3c7.5,3.7,5.9,14.6,5.9,14.6s5.9-11.8,13.6-10.6c7.7,1.2,13.6,9.5,13.6,9.5 s-1.8-13.6,5.3-16.7c7.1-3.1,16.5,2.7,16.5,2.7s-8.1-13.6-1.5-18.9c6.6-5.3,18.8,0.7,18.8,0.7s-13.2-8.1-11.1-16.7 C99.2,40.4,100,28.8,100,28.8s-12,8.8-17.7,3.1c-5.7-5.7-1.3-18.8-1.3-18.8s-9,11.6-16.5,9.4c-7.5-2.2-11.1-12.2-11.1-12.2 S50.4,14.5,47.5,12.2z";
  const quickActions = [];
  const menuOptions = [
    {
      label: isStickied ? "Unsticky Video" : "Sticky Video",
      icon: /* @__PURE__ */ jsxDEV("svg", { className: "w-4 h-4 text-amber-500", viewBox: "0 0 100 100", fill: "currentColor", children: /* @__PURE__ */ jsxDEV("path", { d: splatterPath }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 175,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 174,
        columnNumber: 5
      }, this),
      action: "toggleSticky"
    },
    {
      label: "Delete",
      danger: true,
      icon: /* @__PURE__ */ jsxDEV("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsxDEV("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 185,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 184,
        columnNumber: 5
      }, this),
      action: "delete"
    },
    {
      label: "Move to Playlist",
      icon: /* @__PURE__ */ jsxDEV("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsxDEV("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M14 5l7 7m0 0l-7 7m7-7H3" }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 194,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 193,
        columnNumber: 5
      }, this),
      action: "moveToPlaylist"
    },
    {
      label: "Set as Playlist Cover",
      icon: /* @__PURE__ */ jsxDEV("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsxDEV("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 203,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 202,
        columnNumber: 5
      }, this),
      action: "setPlaylistCover"
    },
    {
      label: "Copy to Playlist",
      icon: /* @__PURE__ */ jsxDEV("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsxDEV("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 212,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 211,
        columnNumber: 5
      }, this),
      action: "copyToPlaylist"
    },
    {
      label: "Assign to Folder",
      submenu: "folders",
      icon: /* @__PURE__ */ jsxDEV("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsxDEV("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 222,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 221,
        columnNumber: 5
      }, this),
      action: "assignFolder"
    },
    {
      label: "Quick Assign",
      submenu: "quickFolders",
      icon: /* @__PURE__ */ jsxDEV("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsxDEV("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M13 10V3L4 14h7v7l9-11h-7z" }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 232,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 231,
        columnNumber: 5
      }, this),
      action: "setQuickAssign"
    }
  ];
  const submenuOptions = {
    folders: FOLDER_COLORS.map((color) => ({
      label: color.name,
      icon: /* @__PURE__ */ jsxDEV(
        "div",
        {
          className: "w-4 h-4 rounded-full",
          style: { backgroundColor: color.hex }
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
          lineNumber: 244,
          columnNumber: 7
        },
        this
      ),
      action: "assignFolder",
      folderColor: color.id
    })),
    quickFolders: FOLDER_COLORS.map((color) => ({
      label: `Set ${color.name} as Quick Assign`,
      icon: /* @__PURE__ */ jsxDEV(
        "div",
        {
          className: "w-4 h-4 rounded-full",
          style: { backgroundColor: color.hex }
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
          lineNumber: 255,
          columnNumber: 7
        },
        this
      ),
      action: "setQuickAssign",
      folderColor: color.id
    }))
  };
  const playOverlay = null;
  const badges = [
    // Watched badge (only if NOT playing)
    !isCurrentlyPlaying && isWatched && {
      component: /* @__PURE__ */ jsxDEV("div", { className: "text-green-500 drop-shadow-md flex items-center justify-center filter drop-shadow-lg", children: /* @__PURE__ */ jsxDEV("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: 4, children: /* @__PURE__ */ jsxDEV("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M5 13l4 4L19 7" }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 278,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 277,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 276,
        columnNumber: 5
      }, this),
      position: "top-left"
    },
    // Top Right Controls (Pin + Star) - Combined to sit side-by-side
    !bulkTagMode && {
      component: /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200", children: [
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onMouseDown: handlePinMouseDown,
            onMouseUp: handlePinMouseUp,
            onMouseLeave: handlePinMouseLeave,
            className: `p-1.5 rounded-lg transition-all active:scale-95 duration-200 mr-1 ${isPriority ? "bg-amber-500/10 border-amber-500/50 text-amber-500 hover:bg-amber-500 hover:text-white" : isPinnedVideo ? "bg-sky-500/10 border-sky-500/50 text-sky-500 hover:bg-sky-500 hover:text-white" : "bg-black/70 hover:bg-black/90 text-slate-400 hover:text-slate-200"} ${activePin === "pressing" ? "scale-90" : ""}`,
            style: {
              borderWidth: isPriority || isPinnedVideo ? "1px" : "0px"
            },
            title: getInspectTitle(isPriority ? "Remove priority pin" : isPinnedVideo ? "Unpin video" : "Pin (Click) / Priority (Hold)") || (isPriority ? "Remove priority pin" : isPinnedVideo ? "Unpin video" : "Pin (Click) / Priority (Hold)"),
            children: /* @__PURE__ */ jsxDEV(
              Pin,
              {
                size: 20,
                fill: isPriority || isPinnedVideo ? "currentColor" : "none",
                strokeWidth: 2
              },
              void 0,
              false,
              {
                fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                lineNumber: 305,
                columnNumber: 13
              },
              this
            )
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
            lineNumber: 290,
            columnNumber: 11
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          "div",
          {
            className: "relative",
            onMouseEnter: () => {
              if (starHoverDelayRef.current) {
                clearTimeout(starHoverDelayRef.current);
              }
              if (starHoverTimeoutRef.current) {
                clearTimeout(starHoverTimeoutRef.current);
                starHoverTimeoutRef.current = null;
              }
              starHoverDelayRef.current = setTimeout(() => {
                setIsStarHovered(true);
                starHoverDelayRef.current = null;
              }, 1200);
            },
            onMouseLeave: () => {
              if (starHoverDelayRef.current) {
                clearTimeout(starHoverDelayRef.current);
                starHoverDelayRef.current = null;
              }
              starHoverTimeoutRef.current = setTimeout(() => {
                setIsStarHovered(false);
              }, 150);
            },
            children: /* @__PURE__ */ jsxDEV(
              "button",
              {
                onClick: (e) => {
                  e.stopPropagation();
                  if (onStarClick) {
                    onStarClick(e);
                  }
                },
                onMouseEnter: () => {
                  if (starHoverDelayRef.current) {
                    clearTimeout(starHoverDelayRef.current);
                  }
                  if (starHoverTimeoutRef.current) {
                    clearTimeout(starHoverTimeoutRef.current);
                    starHoverTimeoutRef.current = null;
                  }
                  starHoverDelayRef.current = setTimeout(() => {
                    setIsStarHovered(true);
                    starHoverDelayRef.current = null;
                  }, 1200);
                },
                onMouseLeave: () => {
                  if (starHoverDelayRef.current) {
                    clearTimeout(starHoverDelayRef.current);
                    starHoverDelayRef.current = null;
                  }
                },
                className: "p-1.5 rounded-lg bg-black/70 hover:bg-black/90 transition-all block",
                title: getInspectTitle(
                  videoFolders.length > 0 ? `Assigned to: ${videoFolders.map((f) => getFolderColorById(f).name).join(", ")}` : "Click to assign to folder"
                ) || (videoFolders.length > 0 ? `Assigned to: ${videoFolders.map((f) => getFolderColorById(f).name).join(", ")}` : "Click to assign to folder"),
                style: { color: primaryFolder ? primaryFolder.hex : quickAssignColor.hex },
                "data-card-action": "true",
                children: /* @__PURE__ */ jsxDEV(
                  "svg",
                  {
                    className: "w-5 h-5",
                    fill: videoFolders.length > 0 ? "currentColor" : "none",
                    stroke: "currentColor",
                    strokeWidth: videoFolders.length > 0 ? 0 : 2,
                    viewBox: "0 0 24 24",
                    children: /* @__PURE__ */ jsxDEV(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"
                      },
                      void 0,
                      false,
                      {
                        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                        lineNumber: 391,
                        columnNumber: 17
                      },
                      this
                    )
                  },
                  void 0,
                  false,
                  {
                    fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                    lineNumber: 384,
                    columnNumber: 15
                  },
                  this
                )
              },
              void 0,
              false,
              {
                fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                lineNumber: 342,
                columnNumber: 13
              },
              this
            )
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
            lineNumber: 313,
            columnNumber: 11
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 288,
        columnNumber: 5
      }, this),
      position: "top-right"
    },
    // 3-Dot Menu - Bottom Right
    !bulkTagMode && {
      component: /* @__PURE__ */ jsxDEV("div", { className: "opacity-0 group-hover:opacity-100 transition-opacity duration-200", children: /* @__PURE__ */ jsxDEV(
        CardActions,
        {
          menuOptions,
          onMenuOptionClick,
          submenuOptions,
          className: "flex-nowrap p-0 bg-black/70 rounded-lg hover:bg-black/90 text-white backdrop-blur-sm shadow-sm"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
          lineNumber: 408,
          columnNumber: 11
        },
        this
      ) }, void 0, false, {
        fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
        lineNumber: 407,
        columnNumber: 5
      }, this),
      position: "bottom-right"
    }
  ].filter(Boolean);
  return /* @__PURE__ */ jsxDEV(
    Card,
    {
      onClick: bulkTagMode ? void 0 : onVideoClick,
      selected: isSelected,
      playing: isCurrentlyPlaying,
      className: bulkTagMode ? "cursor-default" : "",
      variant: "minimal",
      children: [
        /* @__PURE__ */ jsxDEV(
          "div",
          {
            onMouseEnter: () => bulkTagMode && setIsHovered(true),
            onMouseLeave: () => bulkTagMode && setIsHovered(false),
            className: "relative group rounded-lg overflow-visible",
            children: [
              showTimer && isPinnedVideo && timeRemaining && /* @__PURE__ */ jsxDEV("div", { className: "absolute -top-10 left-0 w-full p-0 pointer-events-none z-40 flex justify-center", children: /* @__PURE__ */ jsxDEV("div", { className: "bg-black/80 backdrop-blur-md text-white font-mono text-lg font-bold px-4 py-1.5 rounded-lg border border-white/20 shadow-2xl tracking-wider transform translate-y-2", children: timeRemaining }, void 0, false, {
                fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                lineNumber: 436,
                columnNumber: 13
              }, this) }, void 0, false, {
                fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                lineNumber: 435,
                columnNumber: 9
              }, this),
              /* @__PURE__ */ jsxDEV(
                CardThumbnail,
                {
                  src: thumbnailUrl,
                  alt: video.title || `Video ${index + 1}`,
                  overlay: playOverlay,
                  badges: bulkTagMode ? badges.filter((b) => b.position !== "top-right") : badges,
                  progress,
                  className: `rounded-lg overflow-hidden border-2 border-black ${isCurrentlyPlaying ? "ring-4 ring-red-500 ring-offset-2 ring-offset-black shadow-[0_0_40px_rgba(239,68,68,1),inset_0_0_40px_rgba(239,68,68,0.8)]" : ""}`
                },
                void 0,
                false,
                {
                  fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                  lineNumber: 442,
                  columnNumber: 9
                },
                this
              ),
              isStarHovered && !bulkTagMode && /* @__PURE__ */ jsxDEV(
                "div",
                {
                  "data-star-picker": "true",
                  className: "absolute inset-0 flex items-start justify-center pt-2 z-30 pointer-events-none",
                  onMouseEnter: () => {
                    if (starHoverTimeoutRef.current) {
                      clearTimeout(starHoverTimeoutRef.current);
                      starHoverTimeoutRef.current = null;
                    }
                    setIsStarHovered(true);
                  },
                  onMouseLeave: () => {
                    setIsStarHovered(false);
                  },
                  children: /* @__PURE__ */ jsxDEV("div", { className: "pointer-events-auto", children: /* @__PURE__ */ jsxDEV(
                    StarColorPicker,
                    {
                      currentFolders: videoFolders,
                      quickAssignFolder,
                      onColorLeftClick: (folderColor) => {
                        if (onStarColorLeftClick) {
                          onStarColorLeftClick(video, folderColor);
                        }
                        setIsStarHovered(false);
                      },
                      onColorRightClick: (folderColor) => {
                        if (onStarColorRightClick) {
                          onStarColorRightClick(folderColor);
                        }
                        setIsStarHovered(false);
                      }
                    },
                    void 0,
                    false,
                    {
                      fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                      lineNumber: 468,
                      columnNumber: 15
                    },
                    this
                  ) }, void 0, false, {
                    fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                    lineNumber: 467,
                    columnNumber: 13
                  }, this)
                },
                void 0,
                false,
                {
                  fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                  lineNumber: 453,
                  columnNumber: 9
                },
                this
              ),
              bulkTagMode && isHovered && /* @__PURE__ */ jsxDEV(
                "div",
                {
                  onMouseEnter: () => setIsHovered(true),
                  onMouseLeave: () => setIsHovered(false),
                  children: /* @__PURE__ */ jsxDEV(
                    BulkTagColorGrid,
                    {
                      videoId: video.id,
                      currentFolders: videoFolders,
                      selectedFolders: bulkTagSelections,
                      onColorClick: onBulkTagColorClick
                    },
                    void 0,
                    false,
                    {
                      fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                      lineNumber: 494,
                      columnNumber: 13
                    },
                    this
                  )
                },
                void 0,
                false,
                {
                  fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
                  lineNumber: 490,
                  columnNumber: 9
                },
                this
              )
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
            lineNumber: 428,
            columnNumber: 7
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          CardContent,
          {
            title: video.title || `Video ${index + 1}`,
            subtitle: video.video_id,
            className: "[&>p]:opacity-0 [&>p]:group-hover:opacity-100 [&>p]:transition-opacity [&>p]:duration-200",
            padding: "p-0 pt-3",
            headerActions: null
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
            lineNumber: 504,
            columnNumber: 7
          },
          this
        )
      ]
    },
    void 0,
    true,
    {
      fileName: "C:/Projects/yttv2/src/components/VideoCard.jsx",
      lineNumber: 421,
      columnNumber: 5
    },
    this
  );
};
_s(VideoCard, "Xh6gos/Qf2M+c5TmZQ1vTKh2Pwk=", false, function() {
  return [useLayoutStore, useFolderStore, usePinStore, usePinStore, usePinStore, usePinStore];
});
_c = VideoCard;
export default VideoCard;
var _c;
$RefreshReg$(_c, "VideoCard");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/yttv2/src/components/VideoCard.jsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/yttv2/src/components/VideoCard.jsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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YXJkQ29udGVudCIsIkNhcmRBY3Rpb25zIiwiQnVsa1RhZ0NvbG9yR3JpZCIsIlN0YXJDb2xvclBpY2tlciIsImdldFRodW1ibmFpbFVybCIsIkZPTERFUl9DT0xPUlMiLCJnZXRGb2xkZXJDb2xvckJ5SWQiLCJ1c2VQaW5TdG9yZSIsInVzZUxheW91dFN0b3JlIiwidXNlRm9sZGVyU3RvcmUiLCJQaW4iLCJWaWRlb0NhcmQiLCJ2aWRlbyIsImluZGV4Iiwib3JpZ2luYWxJbmRleCIsImlzU2VsZWN0ZWQiLCJpc0N1cnJlbnRseVBsYXlpbmciLCJ2aWRlb0ZvbGRlcnMiLCJzZWxlY3RlZEZvbGRlciIsIm9uVmlkZW9DbGljayIsIm9uU3RhckNsaWNrIiwib25TdGFyQ29sb3JMZWZ0Q2xpY2siLCJvblN0YXJDb2xvclJpZ2h0Q2xpY2siLCJvbk1lbnVPcHRpb25DbGljayIsIm9uUXVpY2tBc3NpZ24iLCJidWxrVGFnTW9kZSIsImJ1bGtUYWdTZWxlY3Rpb25zIiwiU2V0Iiwib25CdWxrVGFnQ29sb3JDbGljayIsIm9uUGluQ2xpY2siLCJvblNlY29uZFBsYXllclNlbGVjdCIsInByb2dyZXNzIiwiaXNXYXRjaGVkIiwiaXNTdGlja2llZCIsInNob3dUaW1lciIsIl9zIiwiaW5zcGVjdE1vZGUiLCJxdWlja0Fzc2lnbkZvbGRlciIsImdldEluc3BlY3RUaXRsZSIsImxhYmVsIiwidW5kZWZpbmVkIiwiaXNIb3ZlcmVkIiwic2V0SXNIb3ZlcmVkIiwiaXNTdGFySG92ZXJlZCIsInNldElzU3RhckhvdmVyZWQiLCJzdGFySG92ZXJUaW1lb3V0UmVmIiwic3RhckhvdmVyRGVsYXlSZWYiLCJ0aHVtYm5haWxVcmwiLCJ2aWRlb19pZCIsInByaW1hcnlGb2xkZXIiLCJsZW5ndGgiLCJxdWlja0Fzc2lnbkNvbG9yIiwiaXNQaW5uZWRWaWRlbyIsInN0YXRlIiwicGlubmVkVmlkZW9zIiwic29tZSIsInYiLCJpZCIsInByaW9yaXR5UGluSWRzIiwiaW5jbHVkZXMiLCJpc1ByaW9yaXR5IiwidG9nZ2xlUGluIiwidG9nZ2xlUHJpb3JpdHlQaW4iLCJwaW5Mb25nUHJlc3NUaW1lclJlZiIsImFjdGl2ZVBpbiIsInNldEFjdGl2ZVBpbiIsImhhbmRsZVBpbk1vdXNlRG93biIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJjdXJyZW50Iiwic2V0VGltZW91dCIsImhhbmRsZVBpbk1vdXNlVXAiLCJjbGVhclRpbWVvdXQiLCJoYW5kbGVQaW5Nb3VzZUxlYXZlIiwicGlubmVkQXQiLCJwaW4iLCJmaW5kIiwidGltZVJlbWFpbmluZyIsInNldFRpbWVSZW1haW5pbmciLCJ1c2VFZmZlY3QiLCJ1cGRhdGVUaW1lciIsIm5vdyIsIkRhdGUiLCJleHBpcmVzQXQiLCJkaWZmIiwiaG91cnMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwic2Vjb25kcyIsInBhcnRzIiwicHVzaCIsImpvaW4iLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNwbGF0dGVyUGF0aCIsInF1aWNrQWN0aW9ucyIsIm1lbnVPcHRpb25zIiwiaWNvbiIsImFjdGlvbiIsImRhbmdlciIsInN1Ym1lbnUiLCJzdWJtZW51T3B0aW9ucyIsImZvbGRlcnMiLCJtYXAiLCJjb2xvciIsIm5hbWUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJoZXgiLCJmb2xkZXJDb2xvciIsInF1aWNrRm9sZGVycyIsInBsYXlPdmVybGF5IiwiYmFkZ2VzIiwiY29tcG9uZW50IiwicG9zaXRpb24iLCJib3JkZXJXaWR0aCIsImYiLCJmaWx0ZXIiLCJCb29sZWFuIiwidGl0bGUiLCJiIiwiX2MiLCIkUmVmcmVzaFJlZyQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsiVmlkZW9DYXJkLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi9DYXJkJztcclxuaW1wb3J0IENhcmRUaHVtYm5haWwgZnJvbSAnLi9DYXJkVGh1bWJuYWlsJztcclxuaW1wb3J0IENhcmRDb250ZW50IGZyb20gJy4vQ2FyZENvbnRlbnQnO1xyXG5pbXBvcnQgQ2FyZEFjdGlvbnMgZnJvbSAnLi9DYXJkQWN0aW9ucyc7XHJcbmltcG9ydCBCdWxrVGFnQ29sb3JHcmlkIGZyb20gJy4vQnVsa1RhZ0NvbG9yR3JpZCc7XHJcbmltcG9ydCBTdGFyQ29sb3JQaWNrZXIgZnJvbSAnLi9TdGFyQ29sb3JQaWNrZXInO1xyXG5pbXBvcnQgeyBnZXRUaHVtYm5haWxVcmwgfSBmcm9tICcuLi91dGlscy95b3V0dWJlVXRpbHMnO1xyXG5pbXBvcnQgeyBGT0xERVJfQ09MT1JTLCBnZXRGb2xkZXJDb2xvckJ5SWQgfSBmcm9tICcuLi91dGlscy9mb2xkZXJDb2xvcnMnO1xyXG5pbXBvcnQgeyB1c2VQaW5TdG9yZSB9IGZyb20gJy4uL3N0b3JlL3BpblN0b3JlJztcclxuaW1wb3J0IHsgdXNlTGF5b3V0U3RvcmUgfSBmcm9tICcuLi9zdG9yZS9sYXlvdXRTdG9yZSc7XHJcbmltcG9ydCB7IHVzZUZvbGRlclN0b3JlIH0gZnJvbSAnLi4vc3RvcmUvZm9sZGVyU3RvcmUnO1xyXG5pbXBvcnQgeyBQaW4gfSBmcm9tICdsdWNpZGUtcmVhY3QnOyAvLyBBZGRlZCBQaW4gaWNvbiBiYWNrXHJcblxyXG4vKipcclxuICogVmlkZW9DYXJkIC0gRXhhbXBsZSBvZiBob3cgZWFzeSBpdCBpcyB0byBidWlsZCBjb21wbGV4IGNhcmRzIHdpdGggdGhlIG5ldyBzeXN0ZW1cclxuICogQWxsIGZ1bmN0aW9uYWxpdHkgaXMgY2xlYW5seSBzZXBhcmF0ZWQgYW5kIGVhc3kgdG8gZXh0ZW5kXHJcbiAqL1xyXG5jb25zdCBWaWRlb0NhcmQgPSAoe1xyXG4gIHZpZGVvLFxyXG4gIGluZGV4LFxyXG4gIG9yaWdpbmFsSW5kZXgsXHJcbiAgaXNTZWxlY3RlZCA9IGZhbHNlLFxyXG4gIGlzQ3VycmVudGx5UGxheWluZyA9IGZhbHNlLFxyXG4gIHZpZGVvRm9sZGVycyA9IFtdLFxyXG4gIHNlbGVjdGVkRm9sZGVyID0gbnVsbCxcclxuICBvblZpZGVvQ2xpY2ssXHJcbiAgb25TdGFyQ2xpY2ssXHJcbiAgb25TdGFyQ29sb3JMZWZ0Q2xpY2ssXHJcbiAgb25TdGFyQ29sb3JSaWdodENsaWNrLFxyXG4gIG9uTWVudU9wdGlvbkNsaWNrLFxyXG4gIG9uUXVpY2tBc3NpZ24sXHJcbiAgYnVsa1RhZ01vZGUgPSBmYWxzZSxcclxuICBidWxrVGFnU2VsZWN0aW9ucyA9IG5ldyBTZXQoKSxcclxuICBvbkJ1bGtUYWdDb2xvckNsaWNrLFxyXG4gIG9uUGluQ2xpY2ssXHJcbiAgb25TZWNvbmRQbGF5ZXJTZWxlY3QsXHJcbiAgcHJvZ3Jlc3MgPSAwLFxyXG4gIGlzV2F0Y2hlZCA9IGZhbHNlLFxyXG4gIGlzU3RpY2tpZWQgPSBmYWxzZSxcclxuICBzaG93VGltZXIgPSBmYWxzZSwgLy8gTmV3IHByb3AgdG8gY29udHJvbCB0aW1lciB2aXNpYmlsaXR5XHJcbn0pID0+IHtcclxuICBjb25zdCB7IGluc3BlY3RNb2RlIH0gPSB1c2VMYXlvdXRTdG9yZSgpO1xyXG4gIGNvbnN0IHsgcXVpY2tBc3NpZ25Gb2xkZXIgfSA9IHVzZUZvbGRlclN0b3JlKCk7XHJcblxyXG4gIC8vIEhlbHBlciB0byBnZXQgaW5zcGVjdCBsYWJlbFxyXG4gIGNvbnN0IGdldEluc3BlY3RUaXRsZSA9IChsYWJlbCkgPT4gaW5zcGVjdE1vZGUgPyBsYWJlbCA6IHVuZGVmaW5lZDtcclxuICBjb25zdCBbaXNIb3ZlcmVkLCBzZXRJc0hvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1N0YXJIb3ZlcmVkLCBzZXRJc1N0YXJIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBzdGFySG92ZXJUaW1lb3V0UmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IHN0YXJIb3ZlckRlbGF5UmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IHRodW1ibmFpbFVybCA9IGdldFRodW1ibmFpbFVybCh2aWRlby52aWRlb19pZCwgJ21lZGl1bScpO1xyXG4gIGNvbnN0IHByaW1hcnlGb2xkZXIgPSB2aWRlb0ZvbGRlcnMubGVuZ3RoID4gMCA/IGdldEZvbGRlckNvbG9yQnlJZCh2aWRlb0ZvbGRlcnNbMF0pIDogbnVsbDtcclxuICBjb25zdCBxdWlja0Fzc2lnbkNvbG9yID0gZ2V0Rm9sZGVyQ29sb3JCeUlkKHF1aWNrQXNzaWduRm9sZGVyKTtcclxuXHJcblxyXG4gIC8vIEZJWDogU3BsaXQgc2VsZWN0b3JzIHRvIHByZXZlbnQgXCJNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZFwiIGVycm9yXHJcbiAgLy8gRklYOiBTcGxpdCBzZWxlY3RvcnMgdG8gcHJldmVudCBcIk1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkXCIgZXJyb3JcclxuICBjb25zdCBpc1Bpbm5lZFZpZGVvID0gdXNlUGluU3RvcmUoc3RhdGUgPT5cclxuICAgIHN0YXRlLnBpbm5lZFZpZGVvcy5zb21lKHYgPT4gdi5pZCA9PT0gdmlkZW8uaWQpICYmICFzdGF0ZS5wcmlvcml0eVBpbklkcy5pbmNsdWRlcyh2aWRlby5pZClcclxuICApO1xyXG5cclxuICBjb25zdCBpc1ByaW9yaXR5ID0gdXNlUGluU3RvcmUoc3RhdGUgPT4gc3RhdGUucHJpb3JpdHlQaW5JZHMuaW5jbHVkZXModmlkZW8uaWQpKTtcclxuICBjb25zdCB7IHRvZ2dsZVBpbiwgdG9nZ2xlUHJpb3JpdHlQaW4gfSA9IHVzZVBpblN0b3JlKCk7XHJcbiAgY29uc3QgcGluTG9uZ1ByZXNzVGltZXJSZWYgPSB1c2VSZWYobnVsbCk7IC8vIFRpbWVyIGZvciBsb25nIHByZXNzIGxvZ2ljXHJcbiAgY29uc3QgW2FjdGl2ZVBpbiwgc2V0QWN0aXZlUGluXSA9IHVzZVN0YXRlKG51bGwpOyAvLyBGb3IgdmlzdWFsIGZlZWRiYWNrXHJcblxyXG4gIC8vIEhhbmRsZSBwaW4gaW50ZXJhY3Rpb25zIChkdWFsIGFjdGlvbjogY2xpY2s9bm9ybWFsLCBsb25nPXByaW9yaXR5KVxyXG4gIGNvbnN0IGhhbmRsZVBpbk1vdXNlRG93biA9IChlKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgc2V0QWN0aXZlUGluKCdwcmVzc2luZycpO1xyXG4gICAgcGluTG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0b2dnbGVQcmlvcml0eVBpbih2aWRlbyk7XHJcbiAgICAgIHNldEFjdGl2ZVBpbignbG9uZy1wcmVzc2VkJyk7IC8vIFZpc3VhbCBmZWVkYmFjayBjYW4gYmUgaGFuZGxlZCBpbiByZW5kZXJcclxuICAgICAgcGluTG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICB9LCA2MDApOyAvLyA2MDBtcyB0aHJlc2hvbGRcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVQaW5Nb3VzZVVwID0gKGUpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBzZXRBY3RpdmVQaW4obnVsbCk7XHJcbiAgICBpZiAocGluTG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQocGluTG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCk7XHJcbiAgICAgIHBpbkxvbmdQcmVzc1RpbWVyUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAvLyBTaG9ydCBjbGljayAtPiBOb3JtYWwgcGluXHJcbiAgICAgIHRvZ2dsZVBpbih2aWRlbyk7XHJcbiAgICAgIGlmIChvblBpbkNsaWNrKSBvblBpbkNsaWNrKHZpZGVvKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVQaW5Nb3VzZUxlYXZlID0gKGUpID0+IHtcclxuICAgIC8vIENhbmNlbCBpZiBtb3VzZSBsZWF2ZXMgYnV0dG9uXHJcbiAgICBpZiAocGluTG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQocGluTG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCk7XHJcbiAgICAgIHBpbkxvbmdQcmVzc1RpbWVyUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICBzZXRBY3RpdmVQaW4obnVsbCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG5cclxuICBjb25zdCBwaW5uZWRBdCA9IHVzZVBpblN0b3JlKHN0YXRlID0+IHtcclxuICAgIGNvbnN0IHBpbiA9IHN0YXRlLnBpbm5lZFZpZGVvcy5maW5kKHYgPT4gdi5pZCA9PT0gdmlkZW8uaWQpO1xyXG4gICAgcmV0dXJuIHBpbiA/IHBpbi5waW5uZWRBdCA6IG51bGw7XHJcbiAgfSk7XHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0aW1lIHJlbWFpbmluZyBmb3Igbm9ybWFsIHBpbnNcclxuICBjb25zdCBbdGltZVJlbWFpbmluZywgc2V0VGltZVJlbWFpbmluZ10gPSB1c2VTdGF0ZSgnJyk7XHJcblxyXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBPbmx5IHJ1biB0aW1lciBpZiBleHBsaWNpdGx5IGVuYWJsZWQgYW5kIHJlbGV2YW50XHJcbiAgICBpZiAoIXNob3dUaW1lciB8fCAhaXNQaW5uZWRWaWRlbyB8fCAhcGlubmVkQXQpIHtcclxuICAgICAgaWYgKHRpbWVSZW1haW5pbmcpIHNldFRpbWVSZW1haW5pbmcoJycpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlVGltZXIgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgIGNvbnN0IGV4cGlyZXNBdCA9IHBpbm5lZEF0ICsgKDI0ICogNjAgKiA2MCAqIDEwMDApO1xyXG4gICAgICBjb25zdCBkaWZmID0gZXhwaXJlc0F0IC0gbm93O1xyXG5cclxuICAgICAgaWYgKGRpZmYgPD0gMCkge1xyXG4gICAgICAgIHNldFRpbWVSZW1haW5pbmcoJ0V4cGlyZWQnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwKSk7XHJcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkaWZmICUgKDEwMDAgKiA2MCAqIDYwKSkgLyAoMTAwMCAqIDYwKSk7XHJcbiAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChkaWZmICUgKDEwMDAgKiA2MCkpIC8gMTAwMCk7XHJcblxyXG4gICAgICBjb25zdCBwYXJ0cyA9IFtdO1xyXG4gICAgICBpZiAoaG91cnMgPiAwKSBwYXJ0cy5wdXNoKGAke2hvdXJzfWhgKTtcclxuICAgICAgaWYgKG1pbnV0ZXMgPiAwIHx8IGhvdXJzID4gMCkgcGFydHMucHVzaChgJHttaW51dGVzfW1gKTtcclxuICAgICAgcGFydHMucHVzaChgJHtzZWNvbmRzfXNgKTtcclxuXHJcbiAgICAgIHNldFRpbWVSZW1haW5pbmcocGFydHMuam9pbignICcpKTtcclxuICAgIH07XHJcblxyXG4gICAgdXBkYXRlVGltZXIoKTsgLy8gSW5pdGlhbCBjYWxsXHJcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZVRpbWVyLCAxMDAwKTsgLy8gVXBkYXRlIGV2ZXJ5IHNlY29uZFxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gIH0sIFtpc1Bpbm5lZFZpZGVvLCBwaW5uZWRBdCwgc2hvd1RpbWVyXSk7XHJcblxyXG4gIC8vIEZsYXR0ZW5lZCBzcGxhdHRlciBpY29uIHBhdGggZm9yIHJlLXVzZVxyXG4gIGNvbnN0IHNwbGF0dGVyUGF0aCA9IFwiTTQ3LjUsMTIuMmMwLDAtMi4zLDE2LjItNy44LDE5LjNjLTUuNSwzLjEtMTcuNy02LjItMTcuNy02LjJzMy44LDExLjItMS43LDE2LjVjLTUuNSw1LjMtMjAuMi0yLjEtMjAuMi0yLjEgczEyLjUsOS42LDkuMiwxNi41Yy0zLjMsNi45LTEwLjcsNS41LTEwLjcsNS41czEyLjksNS43LDEyLjUsMTQuN2MtMC40LDktMTAuNiwxNS42LTEwLjYsMTUuNnMxNS4zLTEuNiwyMC4yLDQuMiBjNC45LDUuOC0wLjksMTMuOC0wLjksMTMuOHM5LjQtOSwxNi45LTUuM2M3LjUsMy43LDUuOSwxNC42LDUuOSwxNC42czUuOS0xMS44LDEzLjYtMTAuNmM3LjcsMS4yLDEzLjYsOS41LDEzLjYsOS41IHMtMS44LTEzLjYsNS4zLTE2LjdjNy4xLTMuMSwxNi41LDIuNywxNi41LDIuN3MtOC4xLTEzLjYtMS41LTE4LjljNi42LTUuMywxOC44LDAuNywxOC44LDAuN3MtMTMuMi04LjEtMTEuMS0xNi43IEM5OS4yLDQwLjQsMTAwLDI4LjgsMTAwLDI4LjhzLTEyLDguOC0xNy43LDMuMWMtNS43LTUuNy0xLjMtMTguOC0xLjMtMTguOHMtOSwxMS42LTE2LjUsOS40Yy03LjUtMi4yLTExLjEtMTIuMi0xMS4xLTEyLjIgUzUwLjQsMTQuNSw0Ny41LDEyLjJ6XCI7XHJcblxyXG4gIC8vIFF1aWNrIGFjdGlvbiAtIHN0YXIgZm9yIGZvbGRlciBhc3NpZ25tZW50IChtdXN0IGJlIGRlZmluZWQgYmVmb3JlIGJhZGdlcylcclxuICBjb25zdCBxdWlja0FjdGlvbnMgPSBbXTtcclxuXHJcbiAgLy8gTWVudSBvcHRpb25zIC0gZWFzeSB0byBleHRlbmQhIChtdXN0IGJlIGRlZmluZWQgYmVmb3JlIGJhZGdlcylcclxuICBjb25zdCBtZW51T3B0aW9ucyA9IFtcclxuICAgIHtcclxuICAgICAgbGFiZWw6IGlzU3RpY2tpZWQgPyAnVW5zdGlja3kgVmlkZW8nIDogJ1N0aWNreSBWaWRlbycsXHJcbiAgICAgIGljb246IChcclxuICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1hbWJlci01MDBcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XHJcbiAgICAgICAgICA8cGF0aCBkPXtzcGxhdHRlclBhdGh9IC8+XHJcbiAgICAgICAgPC9zdmc+XHJcbiAgICAgICksXHJcbiAgICAgIGFjdGlvbjogJ3RvZ2dsZVN0aWNreScsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBsYWJlbDogJ0RlbGV0ZScsXHJcbiAgICAgIGRhbmdlcjogdHJ1ZSxcclxuICAgICAgaWNvbjogKFxyXG4gICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxyXG4gICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDdsLS44NjcgMTIuMTQyQTIgMiAwIDAxMTYuMTM4IDIxSDcuODYyYTIgMiAwIDAxLTEuOTk1LTEuODU4TDUgN201IDR2Nm00LTZ2Nm0xLTEwVjRhMSAxIDAgMDAtMS0xaC00YTEgMSAwIDAwLTEgMXYzTTQgN2gxNlwiIC8+XHJcbiAgICAgICAgPC9zdmc+XHJcbiAgICAgICksXHJcbiAgICAgIGFjdGlvbjogJ2RlbGV0ZScsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBsYWJlbDogJ01vdmUgdG8gUGxheWxpc3QnLFxyXG4gICAgICBpY29uOiAoXHJcbiAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XHJcbiAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTQgNWw3IDdtMCAwbC03IDdtNy03SDNcIiAvPlxyXG4gICAgICAgIDwvc3ZnPlxyXG4gICAgICApLFxyXG4gICAgICBhY3Rpb246ICdtb3ZlVG9QbGF5bGlzdCcsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBsYWJlbDogJ1NldCBhcyBQbGF5bGlzdCBDb3ZlcicsXHJcbiAgICAgIGljb246IChcclxuICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cclxuICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk00IDE2bDQuNTg2LTQuNTg2YTIgMiAwIDAxMi44MjggMEwxNiAxNm0tMi0ybDEuNTg2LTEuNTg2YTIgMiAwIDAxMi44MjggMEwyMCAxNG0tNi02aC4wMU02IDIwaDEyYTIgMiAwIDAwMi0yVjZhMiAyIDAgMDAtMi0ySDZhMiAyIDAgMDAtMiAydjEyYTIgMiAwIDAwMiAyelwiIC8+XHJcbiAgICAgICAgPC9zdmc+XHJcbiAgICAgICksXHJcbiAgICAgIGFjdGlvbjogJ3NldFBsYXlsaXN0Q292ZXInLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbGFiZWw6ICdDb3B5IHRvIFBsYXlsaXN0JyxcclxuICAgICAgaWNvbjogKFxyXG4gICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxyXG4gICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTggMTZINmEyIDIgMCAwMS0yLTJWNmEyIDIgMCAwMTItMmg4YTIgMiAwIDAxMiAydjJtLTYgMTJoOGEyIDIgMCAwMDItMnYtOGEyIDIgMCAwMC0yLTJoLThhMiAyIDAgMDAtMiAydjhhMiAyIDAgMDAyIDJ6XCIgLz5cclxuICAgICAgICA8L3N2Zz5cclxuICAgICAgKSxcclxuICAgICAgYWN0aW9uOiAnY29weVRvUGxheWxpc3QnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbGFiZWw6ICdBc3NpZ24gdG8gRm9sZGVyJyxcclxuICAgICAgc3VibWVudTogJ2ZvbGRlcnMnLFxyXG4gICAgICBpY29uOiAoXHJcbiAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XHJcbiAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMyA3djEwYTIgMiAwIDAwMiAyaDE0YTIgMiAwIDAwMi0yVjlhMiAyIDAgMDAtMi0yaC02bC0yLTJINWEyIDIgMCAwMC0yIDJ6XCIgLz5cclxuICAgICAgICA8L3N2Zz5cclxuICAgICAgKSxcclxuICAgICAgYWN0aW9uOiAnYXNzaWduRm9sZGVyJyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGxhYmVsOiAnUXVpY2sgQXNzaWduJyxcclxuICAgICAgc3VibWVudTogJ3F1aWNrRm9sZGVycycsXHJcbiAgICAgIGljb246IChcclxuICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cclxuICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMyAxMFYzTDQgMTRoN3Y3bDktMTFoLTd6XCIgLz5cclxuICAgICAgICA8L3N2Zz5cclxuICAgICAgKSxcclxuICAgICAgYWN0aW9uOiAnc2V0UXVpY2tBc3NpZ24nLFxyXG4gICAgfSxcclxuICBdO1xyXG5cclxuICAvLyBTdWJtZW51IG9wdGlvbnMgZm9yIGZvbGRlcnMgKG11c3QgYmUgZGVmaW5lZCBiZWZvcmUgYmFkZ2VzKVxyXG4gIGNvbnN0IHN1Ym1lbnVPcHRpb25zID0ge1xyXG4gICAgZm9sZGVyczogRk9MREVSX0NPTE9SUy5tYXAoKGNvbG9yKSA9PiAoe1xyXG4gICAgICBsYWJlbDogY29sb3IubmFtZSxcclxuICAgICAgaWNvbjogKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogY29sb3IuaGV4IH19XHJcbiAgICAgICAgLz5cclxuICAgICAgKSxcclxuICAgICAgYWN0aW9uOiAnYXNzaWduRm9sZGVyJyxcclxuICAgICAgZm9sZGVyQ29sb3I6IGNvbG9yLmlkLFxyXG4gICAgfSkpLFxyXG4gICAgcXVpY2tGb2xkZXJzOiBGT0xERVJfQ09MT1JTLm1hcCgoY29sb3IpID0+ICh7XHJcbiAgICAgIGxhYmVsOiBgU2V0ICR7Y29sb3IubmFtZX0gYXMgUXVpY2sgQXNzaWduYCxcclxuICAgICAgaWNvbjogKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogY29sb3IuaGV4IH19XHJcbiAgICAgICAgLz5cclxuICAgICAgKSxcclxuICAgICAgYWN0aW9uOiAnc2V0UXVpY2tBc3NpZ24nLFxyXG4gICAgICBmb2xkZXJDb2xvcjogY29sb3IuaWQsXHJcbiAgICB9KSksXHJcbiAgfTtcclxuXHJcblxyXG5cclxuICAvLyBQbGF5IG92ZXJsYXkgZm9yIGhvdmVyIChvbmx5IHNob3cgd2hlbiBub3QgaW4gYnVsayB0YWcgbW9kZSlcclxuICBjb25zdCBwbGF5T3ZlcmxheSA9IG51bGw7XHJcblxyXG4gIC8vIEJhZGdlcyBmb3IgdGh1bWJuYWlsIChub3cgY2FuIHNhZmVseSB1c2UgcXVpY2tBY3Rpb25zLCBtZW51T3B0aW9ucywgc3VibWVudU9wdGlvbnMpXHJcbiAgY29uc3QgYmFkZ2VzID0gW1xyXG5cclxuICAgIC8vIFdhdGNoZWQgYmFkZ2UgKG9ubHkgaWYgTk9UIHBsYXlpbmcpXHJcbiAgICAhaXNDdXJyZW50bHlQbGF5aW5nICYmIGlzV2F0Y2hlZCAmJiB7XHJcbiAgICAgIGNvbXBvbmVudDogKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi01MDAgZHJvcC1zaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmlsdGVyIGRyb3Atc2hhZG93LWxnXCI+XHJcbiAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2VXaWR0aD17NH0+XHJcbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIiAvPlxyXG4gICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICksXHJcbiAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnLFxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBUb3AgUmlnaHQgQ29udHJvbHMgKFBpbiArIFN0YXIpIC0gQ29tYmluZWQgdG8gc2l0IHNpZGUtYnktc2lkZVxyXG4gICAgIWJ1bGtUYWdNb2RlICYmIHtcclxuICAgICAgY29tcG9uZW50OiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTIwMFwiPlxyXG4gICAgICAgICAgey8qIER1YWwtQWN0aW9uIFBpbiBCdXR0b24gKi99XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uTW91c2VEb3duPXtoYW5kbGVQaW5Nb3VzZURvd259XHJcbiAgICAgICAgICAgIG9uTW91c2VVcD17aGFuZGxlUGluTW91c2VVcH1cclxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVQaW5Nb3VzZUxlYXZlfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BwLTEuNSByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIGFjdGl2ZTpzY2FsZS05NSBkdXJhdGlvbi0yMDAgbXItMSAke2lzUHJpb3JpdHlcclxuICAgICAgICAgICAgICA/ICdiZy1hbWJlci01MDAvMTAgYm9yZGVyLWFtYmVyLTUwMC81MCB0ZXh0LWFtYmVyLTUwMCBob3ZlcjpiZy1hbWJlci01MDAgaG92ZXI6dGV4dC13aGl0ZSdcclxuICAgICAgICAgICAgICA6IGlzUGlubmVkVmlkZW9cclxuICAgICAgICAgICAgICAgID8gJ2JnLXNreS01MDAvMTAgYm9yZGVyLXNreS01MDAvNTAgdGV4dC1za3ktNTAwIGhvdmVyOmJnLXNreS01MDAgaG92ZXI6dGV4dC13aGl0ZSdcclxuICAgICAgICAgICAgICAgIDogJ2JnLWJsYWNrLzcwIGhvdmVyOmJnLWJsYWNrLzkwIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtc2xhdGUtMjAwJ1xyXG4gICAgICAgICAgICAgIH0gJHthY3RpdmVQaW4gPT09ICdwcmVzc2luZycgPyAnc2NhbGUtOTAnIDogJyd9YH1cclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICBib3JkZXJXaWR0aDogKGlzUHJpb3JpdHkgfHwgaXNQaW5uZWRWaWRlbykgPyAnMXB4JyA6ICcwcHgnLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICB0aXRsZT17Z2V0SW5zcGVjdFRpdGxlKGlzUHJpb3JpdHkgPyAnUmVtb3ZlIHByaW9yaXR5IHBpbicgOiBpc1Bpbm5lZFZpZGVvID8gJ1VucGluIHZpZGVvJyA6ICdQaW4gKENsaWNrKSAvIFByaW9yaXR5IChIb2xkKScpIHx8IChpc1ByaW9yaXR5ID8gJ1JlbW92ZSBwcmlvcml0eSBwaW4nIDogaXNQaW5uZWRWaWRlbyA/ICdVbnBpbiB2aWRlbycgOiAnUGluIChDbGljaykgLyBQcmlvcml0eSAoSG9sZCknKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFBpblxyXG4gICAgICAgICAgICAgIHNpemU9ezIwfVxyXG4gICAgICAgICAgICAgIGZpbGw9e2lzUHJpb3JpdHkgfHwgaXNQaW5uZWRWaWRlbyA/IFwiY3VycmVudENvbG9yXCIgOiBcIm5vbmVcIn1cclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD17Mn1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIHsvKiBRdWljayBBY3Rpb25zIEJhZGdlIChTdGFyKSAqL31cclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmVcIlxyXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcclxuICAgICAgICAgICAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgZGVsYXkgb3IgaGlkZSB0aW1lb3V0XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXJIb3ZlckRlbGF5UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGFySG92ZXJEZWxheVJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXJIb3ZlclRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXJIb3ZlclRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICBzdGFySG92ZXJUaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyBBZGQgMS4yIHNlY29uZCBkZWxheSBiZWZvcmUgc2hvd2luZyBtZW51XHJcbiAgICAgICAgICAgICAgc3RhckhvdmVyRGVsYXlSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0SXNTdGFySG92ZXJlZCh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHN0YXJIb3ZlckRlbGF5UmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH0sIDEyMDApO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcclxuICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgZGVsYXkgaWYgbW91c2UgbGVhdmVzIGJlZm9yZSBtZW51IGFwcGVhcnNcclxuICAgICAgICAgICAgICBpZiAoc3RhckhvdmVyRGVsYXlSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXJIb3ZlckRlbGF5UmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgc3RhckhvdmVyRGVsYXlSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIC8vIFVzZSBhIHNtYWxsIGRlbGF5IHRvIGFsbG93IG1vdXNlIHRvIG1vdmUgdG8gcGlja2VyXHJcbiAgICAgICAgICAgICAgc3RhckhvdmVyVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRJc1N0YXJIb3ZlcmVkKGZhbHNlKTtcclxuICAgICAgICAgICAgICB9LCAxNTApO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob25TdGFyQ2xpY2spIHtcclxuICAgICAgICAgICAgICAgICAgb25TdGFyQ2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBkZWxheSBvciBoaWRlIHRpbWVvdXRcclxuICAgICAgICAgICAgICAgIGlmIChzdGFySG92ZXJEZWxheVJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGFySG92ZXJEZWxheVJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdGFySG92ZXJUaW1lb3V0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXJIb3ZlclRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgIHN0YXJIb3ZlclRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgMS4yIHNlY29uZCBkZWxheSBiZWZvcmUgc2hvd2luZyBtZW51XHJcbiAgICAgICAgICAgICAgICBzdGFySG92ZXJEZWxheVJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldElzU3RhckhvdmVyZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIHN0YXJIb3ZlckRlbGF5UmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSwgMTIwMCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBkZWxheSBpZiBtb3VzZSBsZWF2ZXMgYmVmb3JlIG1lbnUgYXBwZWFyc1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJIb3ZlckRlbGF5UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXJIb3ZlckRlbGF5UmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICBzdGFySG92ZXJEZWxheVJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMS41IHJvdW5kZWQtbGcgYmctYmxhY2svNzAgaG92ZXI6YmctYmxhY2svOTAgdHJhbnNpdGlvbi1hbGwgYmxvY2tcIlxyXG4gICAgICAgICAgICAgIHRpdGxlPXtnZXRJbnNwZWN0VGl0bGUoXHJcbiAgICAgICAgICAgICAgICB2aWRlb0ZvbGRlcnMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICAgICAgICA/IGBBc3NpZ25lZCB0bzogJHt2aWRlb0ZvbGRlcnMubWFwKGYgPT4gZ2V0Rm9sZGVyQ29sb3JCeUlkKGYpLm5hbWUpLmpvaW4oJywgJyl9YFxyXG4gICAgICAgICAgICAgICAgICA6ICdDbGljayB0byBhc3NpZ24gdG8gZm9sZGVyJ1xyXG4gICAgICAgICAgICAgICkgfHwgKFxyXG4gICAgICAgICAgICAgICAgICB2aWRlb0ZvbGRlcnMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gYEFzc2lnbmVkIHRvOiAke3ZpZGVvRm9sZGVycy5tYXAoZiA9PiBnZXRGb2xkZXJDb2xvckJ5SWQoZikubmFtZSkuam9pbignLCAnKX1gXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnQ2xpY2sgdG8gYXNzaWduIHRvIGZvbGRlcidcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IHByaW1hcnlGb2xkZXIgPyBwcmltYXJ5Rm9sZGVyLmhleCA6IHF1aWNrQXNzaWduQ29sb3IuaGV4IH19XHJcbiAgICAgICAgICAgICAgZGF0YS1jYXJkLWFjdGlvbj1cInRydWVcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPHN2Z1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy01IGgtNVwiXHJcbiAgICAgICAgICAgICAgICBmaWxsPXt2aWRlb0ZvbGRlcnMubGVuZ3RoID4gMCA/ICdjdXJyZW50Q29sb3InIDogJ25vbmUnfVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXt2aWRlb0ZvbGRlcnMubGVuZ3RoID4gMCA/IDAgOiAyfVxyXG4gICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXHJcbiAgICAgICAgICAgICAgICAgIGQ9XCJNMTEuMDQ5IDIuOTI3Yy4zLS45MjEgMS42MDMtLjkyMSAxLjkwMiAwbDEuNTE5IDQuNjc0YTEgMSAwIDAwLjk1LjY5aDQuOTE1Yy45NjkgMCAxLjM3MSAxLjI0LjU4OCAxLjgxbC0zLjk3NiAyLjg4OGExIDEgMCAwMC0uMzYzIDEuMTE4bDEuNTE4IDQuNjc0Yy4zLjkyMi0uNzU1IDEuNjg4LTEuNTM4IDEuMTE4bC0zLjk3Ni0yLjg4OGExIDEgMCAwMC0xLjE3NiAwbC0zLjk3NiAyLjg4OGMtLjc4My41Ny0xLjgzOC0uMTk3LTEuNTM4LTEuMTE4bDEuNTE4LTQuNjc0YTEgMSAwIDAwLS4zNjMtMS4xMThsLTMuOTc2LTIuODg4Yy0uNzg0LS41Ny0uMzgtMS44MS41ODgtMS44MWg0LjkxNGExIDEgMCAwMC45NTEtLjY5bDEuNTE5LTQuNjc0elwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApLFxyXG4gICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcsXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIDMtRG90IE1lbnUgLSBCb3R0b20gUmlnaHRcclxuICAgICFidWxrVGFnTW9kZSAmJiB7XHJcbiAgICAgIGNvbXBvbmVudDogKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0yMDBcIj5cclxuICAgICAgICAgIDxDYXJkQWN0aW9uc1xyXG4gICAgICAgICAgICBtZW51T3B0aW9ucz17bWVudU9wdGlvbnN9XHJcbiAgICAgICAgICAgIG9uTWVudU9wdGlvbkNsaWNrPXtvbk1lbnVPcHRpb25DbGlja31cclxuICAgICAgICAgICAgc3VibWVudU9wdGlvbnM9e3N1Ym1lbnVPcHRpb25zfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LW5vd3JhcCBwLTAgYmctYmxhY2svNzAgcm91bmRlZC1sZyBob3ZlcjpiZy1ibGFjay85MCB0ZXh0LXdoaXRlIGJhY2tkcm9wLWJsdXItc20gc2hhZG93LXNtXCJcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICksXHJcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tLXJpZ2h0J1xyXG4gICAgfVxyXG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPENhcmRcclxuICAgICAgb25DbGljaz17YnVsa1RhZ01vZGUgPyB1bmRlZmluZWQgOiBvblZpZGVvQ2xpY2t9XHJcbiAgICAgIHNlbGVjdGVkPXtpc1NlbGVjdGVkfVxyXG4gICAgICBwbGF5aW5nPXtpc0N1cnJlbnRseVBsYXlpbmd9XHJcbiAgICAgIGNsYXNzTmFtZT17YnVsa1RhZ01vZGUgPyAnY3Vyc29yLWRlZmF1bHQnIDogJyd9XHJcbiAgICAgIHZhcmlhbnQ9XCJtaW5pbWFsXCJcclxuICAgID5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gYnVsa1RhZ01vZGUgJiYgc2V0SXNIb3ZlcmVkKHRydWUpfVxyXG4gICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4gYnVsa1RhZ01vZGUgJiYgc2V0SXNIb3ZlcmVkKGZhbHNlKX1cclxuICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCByb3VuZGVkLWxnIG92ZXJmbG93LXZpc2libGVcIiAvLyBDSEFOR0VEIG92ZXJmbG93LWhpZGRlbiB0byBvdmVyZmxvdy12aXNpYmxlIHRvIGFsbG93IGZsb2F0aW5nIHRpbWVyIGFib3ZlXHJcbiAgICAgID5cclxuICAgICAgICB7LyogTGFyZ2UgVGltZXIgRmxvYXRpbmcgQWJvdmUgVGh1bWJuYWlsICovfVxyXG4gICAgICAgIHtzaG93VGltZXIgJiYgaXNQaW5uZWRWaWRlbyAmJiB0aW1lUmVtYWluaW5nICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0xMCBsZWZ0LTAgdy1mdWxsIHAtMCBwb2ludGVyLWV2ZW50cy1ub25lIHotNDAgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItbWQgdGV4dC13aGl0ZSBmb250LW1vbm8gdGV4dC1sZyBmb250LWJvbGQgcHgtNCBweS0xLjUgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHNoYWRvdy0yeGwgdHJhY2tpbmctd2lkZXIgdHJhbnNmb3JtIHRyYW5zbGF0ZS15LTJcIj5cclxuICAgICAgICAgICAgICB7dGltZVJlbWFpbmluZ31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICA8Q2FyZFRodW1ibmFpbFxyXG4gICAgICAgICAgc3JjPXt0aHVtYm5haWxVcmx9XHJcbiAgICAgICAgICBhbHQ9e3ZpZGVvLnRpdGxlIHx8IGBWaWRlbyAke2luZGV4ICsgMX1gfVxyXG4gICAgICAgICAgb3ZlcmxheT17cGxheU92ZXJsYXl9XHJcbiAgICAgICAgICBiYWRnZXM9e2J1bGtUYWdNb2RlID8gYmFkZ2VzLmZpbHRlcihiID0+IGIucG9zaXRpb24gIT09ICd0b3AtcmlnaHQnKSA6IGJhZGdlc31cclxuICAgICAgICAgIHByb2dyZXNzPXtwcm9ncmVzc31cclxuICAgICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlci0yIGJvcmRlci1ibGFjayAke2lzQ3VycmVudGx5UGxheWluZyA/ICdyaW5nLTQgcmluZy1yZWQtNTAwIHJpbmctb2Zmc2V0LTIgcmluZy1vZmZzZXQtYmxhY2sgc2hhZG93LVswXzBfNDBweF9yZ2JhKDIzOSw2OCw2OCwxKSxpbnNldF8wXzBfNDBweF9yZ2JhKDIzOSw2OCw2OCwwLjgpXScgOiAnJ31gfSAvLyBSb3VuZGluZyB0aHVtYm5haWwgc3BlY2lmaWNhbGx5XHJcbiAgICAgICAgLz5cclxuXHJcbiAgICAgICAgey8qIFN0YXIgY29sb3IgcGlja2VyIG92ZXJsYXkgKi99XHJcbiAgICAgICAge2lzU3RhckhvdmVyZWQgJiYgIWJ1bGtUYWdNb2RlICYmIChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgZGF0YS1zdGFyLXBpY2tlcj1cInRydWVcIlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1jZW50ZXIgcHQtMiB6LTMwIHBvaW50ZXItZXZlbnRzLW5vbmVcIlxyXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoc3RhckhvdmVyVGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc3RhckhvdmVyVGltZW91dFJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIHN0YXJIb3ZlclRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHNldElzU3RhckhvdmVyZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldElzU3RhckhvdmVyZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvaW50ZXItZXZlbnRzLWF1dG9cIj5cclxuICAgICAgICAgICAgICA8U3RhckNvbG9yUGlja2VyXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Rm9sZGVycz17dmlkZW9Gb2xkZXJzfVxyXG4gICAgICAgICAgICAgICAgcXVpY2tBc3NpZ25Gb2xkZXI9e3F1aWNrQXNzaWduRm9sZGVyfVxyXG4gICAgICAgICAgICAgICAgb25Db2xvckxlZnRDbGljaz17KGZvbGRlckNvbG9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChvblN0YXJDb2xvckxlZnRDbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uU3RhckNvbG9yTGVmdENsaWNrKHZpZGVvLCBmb2xkZXJDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgc2V0SXNTdGFySG92ZXJlZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgb25Db2xvclJpZ2h0Q2xpY2s9eyhmb2xkZXJDb2xvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpZiAob25TdGFyQ29sb3JSaWdodENsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25TdGFyQ29sb3JSaWdodENsaWNrKGZvbGRlckNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBzZXRJc1N0YXJIb3ZlcmVkKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICB7LyogQnVsayB0YWcgY29sb3IgZ3JpZCBvdmVybGF5ICovfVxyXG4gICAgICAgIHtidWxrVGFnTW9kZSAmJiBpc0hvdmVyZWQgJiYgKFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldElzSG92ZXJlZCh0cnVlKX1cclxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRJc0hvdmVyZWQoZmFsc2UpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8QnVsa1RhZ0NvbG9yR3JpZFxyXG4gICAgICAgICAgICAgIHZpZGVvSWQ9e3ZpZGVvLmlkfVxyXG4gICAgICAgICAgICAgIGN1cnJlbnRGb2xkZXJzPXt2aWRlb0ZvbGRlcnN9XHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRGb2xkZXJzPXtidWxrVGFnU2VsZWN0aW9uc31cclxuICAgICAgICAgICAgICBvbkNvbG9yQ2xpY2s9e29uQnVsa1RhZ0NvbG9yQ2xpY2t9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxDYXJkQ29udGVudFxyXG4gICAgICAgIHRpdGxlPXt2aWRlby50aXRsZSB8fCBgVmlkZW8gJHtpbmRleCArIDF9YH1cclxuICAgICAgICBzdWJ0aXRsZT17dmlkZW8udmlkZW9faWR9XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiWyY+cF06b3BhY2l0eS0wIFsmPnBdOmdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIFsmPnBdOnRyYW5zaXRpb24tb3BhY2l0eSBbJj5wXTpkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgIHBhZGRpbmc9XCJwLTAgcHQtM1wiXHJcbiAgICAgICAgaGVhZGVyQWN0aW9ucz17bnVsbH1cclxuICAgICAgLz5cclxuICAgIDwvQ2FyZD5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmlkZW9DYXJkO1xyXG4iXSwiZmlsZSI6IkM6L1Byb2plY3RzL3l0dHYyL3NyYy9jb21wb25lbnRzL1ZpZGVvQ2FyZC5qc3gifQ==