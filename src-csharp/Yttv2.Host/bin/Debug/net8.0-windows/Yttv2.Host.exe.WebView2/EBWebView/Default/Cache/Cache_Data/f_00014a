import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/App.jsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=cd56faf3"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/yttv2/src/App.jsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=cd56faf3"; const React = __vite__cjsImport3_react.__esModule ? __vite__cjsImport3_react.default : __vite__cjsImport3_react; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"];
import LayoutShell from "/src/LayoutShell.jsx";
import PlayerController from "/src/components/PlayerController.jsx";
import PlaylistsButton from "/src/components/PlaylistsButton.jsx";
import PlaylistList from "/src/components/PlaylistList.jsx";
import TopNavigation from "/src/components/TopNavigation.jsx";
import PlaylistsPage from "/src/components/PlaylistsPage.jsx";
import VideosPage from "/src/components/VideosPage.jsx";
import HistoryPage from "/src/components/HistoryPage.jsx";
import LikesPage from "/src/components/LikesPage.jsx";
import PinsPage from "/src/components/PinsPage.jsx";
import YouTubePlayer from "/src/components/YouTubePlayer.jsx";
import LocalVideoPlayer from "/src/components/LocalVideoPlayer.jsx";
import NativeVideoPlayer from "/src/components/NativeVideoPlayer.jsx";
import { useLayoutStore } from "/src/store/layoutStore.js";
import { usePlaylistStore } from "/src/store/playlistStore.js";
import { useNavigationStore } from "/src/store/navigationStore.js";
import { usePinStore } from "/src/store/pinStore.js";
import { initializeTestData } from "/src/utils/initDatabase.js";
import { addToWatchHistory, getWatchHistory, getAllPlaylists, getPlaylistItems } from "/src/api/playlistApi.js";
import { extractVideoId } from "/src/utils/youtubeUtils.js";
import RadialMenuStandalone from "/src/components/RadialMenuStandalone.jsx";
import SettingsPage from "/src/components/SettingsPage.jsx";
import SupportPage from "/src/components/SupportPage.jsx";
import { THEMES } from "/src/utils/themes.js";
import "/src/App.css?t=1768902144911";
function App() {
  _s();
  const { viewMode, setViewMode, menuQuarterMode, toggleMenuQuarterMode, showDebugBounds, toggleDebugBounds, inspectMode, toggleInspectMode, showRuler, toggleRuler, showDevToolbar } = useLayoutStore();
  const getInspectTitle = (label) => inspectMode ? label : void 0;
  const { showPlaylists, setShowPlaylists, setPlaylistItems, currentPlaylistItems, currentPlaylistId, currentVideoIndex, setCurrentVideoIndex } = usePlaylistStore();
  const { currentPage } = useNavigationStore();
  const [dbInitialized, setDbInitialized] = useState(false);
  const [containerConfig, setContainerConfig] = useState(null);
  const [dictionaryConfig, setDictionaryConfig] = useState(null);
  const [radialMenuVisible, setRadialMenuVisible] = useState(true);
  const [secondPlayerVideoUrl, setSecondPlayerVideoUrl] = useState(null);
  const [secondPlayerVideoIndex, setSecondPlayerVideoIndex] = useState(0);
  const [secondPlayerPlaylistId, setSecondPlayerPlaylistId] = useState(null);
  const [secondPlayerPlaylistItems, setSecondPlayerPlaylistItems] = useState([]);
  const [activePlayer, setActivePlayer] = useState(1);
  const [currentThemeId, setCurrentThemeId] = useState("blue");
  const { checkExpiration } = usePinStore();
  useEffect(() => {
    checkExpiration();
    const interval = setInterval(checkExpiration, 6e4);
    return () => clearInterval(interval);
  }, [checkExpiration]);
  const [mode1Checkpoint, setMode1Checkpoint] = useState(null);
  useEffect(() => {
    console.log("=== APP STATE DEBUG ===");
    console.log("showPlaylists:", showPlaylists);
    console.log("dbInitialized:", dbInitialized);
    console.log("viewMode:", viewMode);
    console.log("currentPage:", currentPage);
  }, [showPlaylists, dbInitialized, viewMode, currentPage]);
  useEffect(() => {
    const loadConfigs = async () => {
      try {
        console.log("Loading radial menu configs...");
        const containerResponse = await fetch("/container-config (11).json");
        if (!containerResponse.ok) {
          throw new Error(`Container config failed: ${containerResponse.status}`);
        }
        const containerData = await containerResponse.json();
        console.log("Container config loaded:", containerData);
        setContainerConfig(containerData);
        const dictionaryResponse = await fetch("/dictionary.json");
        if (!dictionaryResponse.ok) {
          throw new Error(`Dictionary config failed: ${dictionaryResponse.status}`);
        }
        const dictionaryData = await dictionaryResponse.json();
        console.log("Dictionary config loaded:", Object.keys(dictionaryData).length, "entries");
        setDictionaryConfig(dictionaryData);
      } catch (error) {
        console.error("Failed to load radial menu configs:", error);
      }
    };
    loadConfigs();
  }, []);
  useEffect(() => {
    console.log("Radial menu state updated:", {
      visible: radialMenuVisible,
      hasContainerConfig: !!containerConfig,
      hasDictionaryConfig: !!dictionaryConfig,
      containerConfigKeys: containerConfig ? Object.keys(containerConfig) : null
    });
  }, [radialMenuVisible, containerConfig, dictionaryConfig]);
  useEffect(() => {
    const init = async () => {
      try {
        await initializeTestData();
        setDbInitialized(true);
        try {
          const history = await getWatchHistory(1);
          if (history && history.length > 0) {
            const mostRecent = history[0];
            const videoId = mostRecent.video_id;
            const allPlaylists = await getAllPlaylists();
            for (const playlist of allPlaylists) {
              try {
                const items = await getPlaylistItems(playlist.id);
                const videoIndex = items.findIndex((item) => item.video_id === videoId);
                if (videoIndex >= 0) {
                  setPlaylistItems(items, playlist.id);
                  setCurrentVideoIndex(videoIndex);
                  console.log("Loaded most recent video from watch history:", mostRecent.video_url);
                  return;
                }
              } catch (error) {
                console.error(`Failed to load playlist ${playlist.id}:`, error);
              }
            }
            console.log("Most recent video not found in any playlist, using default");
          }
        } catch (error) {
          console.error("Failed to load watch history for initialization:", error);
        }
      } catch (error) {
        console.error("Failed to initialize database:", error);
        setDbInitialized(true);
      }
    };
    init();
  }, [setPlaylistItems, setCurrentVideoIndex]);
  const currentVideoUrl = React.useMemo(() => {
    if (currentPlaylistItems.length > 0 && currentVideoIndex < currentPlaylistItems.length) {
      return currentPlaylistItems[currentVideoIndex].video_url;
    }
    return "https://www.youtube.com/watch?v=QiemgC39tA0";
  }, [currentPlaylistItems, currentVideoIndex]);
  const isCurrentVideoLocal = React.useMemo(() => {
    if (currentPlaylistItems.length > 0 && currentVideoIndex < currentPlaylistItems.length) {
      return currentPlaylistItems[currentVideoIndex].is_local || false;
    }
    return false;
  }, [currentPlaylistItems, currentVideoIndex]);
  const currentVideoId = React.useMemo(() => {
    if (currentPlaylistItems.length > 0 && currentVideoIndex < currentPlaylistItems.length) {
      return currentPlaylistItems[currentVideoIndex].video_id;
    }
    return null;
  }, [currentPlaylistItems, currentVideoIndex]);
  const activeVideoUrl = React.useMemo(() => {
    if (activePlayer === 1) {
      return currentVideoUrl;
    } else {
      return secondPlayerVideoUrl || currentVideoUrl;
    }
  }, [activePlayer, currentVideoUrl, secondPlayerVideoUrl]);
  useEffect(() => {
    const trackVideoPlay = async () => {
      if (!currentVideoUrl || currentVideoUrl === "https://www.youtube.com/watch?v=QiemgC39tA0") {
        return;
      }
      try {
        const videoId = extractVideoId(currentVideoUrl);
        if (!videoId) return;
        const currentVideo = currentPlaylistItems.length > 0 && currentVideoIndex < currentPlaylistItems.length ? currentPlaylistItems[currentVideoIndex] : null;
        const title = currentVideo?.title || null;
        const thumbnailUrl = currentVideo?.thumbnail_url || null;
        await addToWatchHistory(currentVideoUrl, videoId, title, thumbnailUrl);
      } catch (error) {
        console.error("Failed to track video play:", error);
      }
    };
    if (dbInitialized) {
      trackVideoPlay();
    }
  }, [currentVideoUrl, dbInitialized, currentPlaylistItems, currentVideoIndex]);
  const handlePlaylistSelect = (items, playlistId) => {
    setPlaylistItems(items, playlistId);
  };
  const handleVideoSelect = async (videoUrl) => {
    if (activePlayer === 1) {
      const videoIndex = currentPlaylistItems.findIndex((item) => item.video_url === videoUrl);
      if (videoIndex >= 0) {
        setCurrentVideoIndex(videoIndex);
      } else {
        try {
          const allPlaylists = await getAllPlaylists();
          for (const playlist of allPlaylists) {
            try {
              const items = await getPlaylistItems(playlist.id);
              const index = items.findIndex((item) => item.video_url === videoUrl);
              if (index >= 0) {
                setPlaylistItems(items, playlist.id);
                handlePlaylistSelect(items, playlist.id);
                setCurrentVideoIndex(index);
                break;
              }
            } catch (error) {
              console.error(`Failed to load playlist ${playlist.id}:`, error);
            }
          }
        } catch (error) {
          console.error("Failed to search playlists for video:", error);
        }
      }
    } else {
      setSecondPlayerVideoUrl(videoUrl);
      let videoIndex = -1;
      if (secondPlayerPlaylistItems.length > 0) {
        videoIndex = secondPlayerPlaylistItems.findIndex((item) => item.video_url === videoUrl);
        if (videoIndex >= 0) {
          setSecondPlayerVideoIndex(videoIndex);
          return;
        }
      }
      if (videoIndex < 0) {
        videoIndex = currentPlaylistItems.findIndex((item) => item.video_url === videoUrl);
        if (videoIndex >= 0) {
          setSecondPlayerVideoIndex(videoIndex);
          setSecondPlayerPlaylistId(currentPlaylistId);
          setSecondPlayerPlaylistItems(currentPlaylistItems);
        } else {
          try {
            const allPlaylists = await getAllPlaylists();
            for (const playlist of allPlaylists) {
              try {
                const items = await getPlaylistItems(playlist.id);
                const index = items.findIndex((item) => item.video_url === videoUrl);
                if (index >= 0) {
                  setSecondPlayerVideoIndex(index);
                  setSecondPlayerPlaylistId(playlist.id);
                  setSecondPlayerPlaylistItems(items);
                  break;
                }
              } catch (error) {
                console.error(`Failed to load playlist ${playlist.id}:`, error);
              }
            }
          } catch (error) {
            console.error("Failed to search playlists for video:", error);
          }
        }
      }
    }
  };
  const handleSecondPlayerSelect = async (videoUrl) => {
    if (activePlayer === 1) {
      setMode1Checkpoint({
        videoUrl: currentVideoUrl,
        playlistId: currentPlaylistId,
        videoIndex: currentVideoIndex,
        playlistItems: [...currentPlaylistItems]
        // Copy array
      });
    }
    let videoIndex = currentPlaylistItems.findIndex((item) => item.video_url === videoUrl);
    let foundPlaylistId = currentPlaylistId;
    let foundPlaylistItems = currentPlaylistItems;
    if (videoIndex < 0) {
      try {
        const allPlaylists = await getAllPlaylists();
        for (const playlist of allPlaylists) {
          try {
            const items = await getPlaylistItems(playlist.id);
            const index = items.findIndex((item) => item.video_url === videoUrl);
            if (index >= 0) {
              videoIndex = index;
              foundPlaylistId = playlist.id;
              foundPlaylistItems = items;
              break;
            }
          } catch (error) {
            console.error(`Failed to load playlist ${playlist.id}:`, error);
          }
        }
      } catch (error) {
        console.error("Failed to search playlists for video:", error);
      }
    }
    if (videoIndex >= 0 && foundPlaylistItems.length > 0) {
      setPlaylistItems(foundPlaylistItems, foundPlaylistId);
      setCurrentVideoIndex(videoIndex);
      setActivePlayer(2);
    }
  };
  const handleActivePlayerChange = (newActivePlayer) => {
    if (activePlayer === 2 && newActivePlayer === 1 && mode1Checkpoint) {
      setPlaylistItems(mode1Checkpoint.playlistItems, mode1Checkpoint.playlistId);
      setCurrentVideoIndex(mode1Checkpoint.videoIndex);
      setMode1Checkpoint(null);
    }
    setActivePlayer(newActivePlayer);
  };
  const handleVideoEnded = (endedPlayerId) => {
    console.log(`Video ended in player: ${endedPlayerId}`);
    if (endedPlayerId === "main") {
      const nextIndex = currentVideoIndex + 1;
      if (nextIndex < currentPlaylistItems.length) {
        console.log("Autoplaying next video in main playlist");
        setCurrentVideoIndex(nextIndex);
      } else {
        console.log("Main playlist reached end");
      }
    } else if (endedPlayerId === "second") {
      const nextIndex = secondPlayerVideoIndex + 1;
      if (nextIndex < secondPlayerPlaylistItems.length) {
        console.log("Autoplaying next video in second playlist");
        setSecondPlayerVideoIndex(nextIndex);
        const nextVideo = secondPlayerPlaylistItems[nextIndex];
        if (nextVideo) {
          setSecondPlayerVideoUrl(nextVideo.video_url);
        }
      } else {
        console.log("Second playlist reached end");
      }
    }
  };
  return /* @__PURE__ */ jsxDEV("div", { className: `app-container bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] ${THEMES[currentThemeId].bg}`, style: { width: "100vw", height: "100vh", overflow: "hidden" }, children: [
    showDevToolbar && /* @__PURE__ */ jsxDEV("div", { className: "view-mode-toggle", children: [
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: () => setViewMode("full"),
          className: viewMode === "full" ? "active" : "",
          title: getInspectTitle("Full screen view"),
          children: "Full"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 432,
          columnNumber: 11
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: () => setViewMode("half"),
          className: viewMode === "half" ? "active" : "",
          title: getInspectTitle("Half screen view"),
          children: "Half"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 439,
          columnNumber: 11
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: () => setViewMode("quarter"),
          className: viewMode === "quarter" ? "active" : "",
          title: getInspectTitle("Quarter screen view"),
          children: "Quarter"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 446,
          columnNumber: 11
        },
        this
      ),
      viewMode !== "full" && /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: toggleMenuQuarterMode,
          className: menuQuarterMode ? "active" : "",
          title: getInspectTitle("Toggle menu quarter mode") || "Toggle Menu Quarter Mode",
          children: "Menu Q"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 455,
          columnNumber: 9
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: toggleDebugBounds,
          className: showDebugBounds ? "active" : "",
          title: getInspectTitle("Toggle debug bounds") || "Toggle Debug Bounds",
          style: {
            backgroundColor: showDebugBounds ? "#3b82f6" : "transparent",
            color: showDebugBounds ? "white" : "inherit",
            border: "1px solid #3b82f6",
            padding: "4px 8px",
            borderRadius: "4px",
            cursor: "pointer"
          },
          children: "Debug"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 464,
          columnNumber: 11
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: toggleInspectMode,
          className: inspectMode ? "active" : "",
          title: getInspectTitle("Toggle inspect mode") || "Toggle Inspect Mode",
          style: {
            backgroundColor: inspectMode ? "#8b5cf6" : "transparent",
            color: inspectMode ? "white" : "inherit",
            border: "1px solid #8b5cf6",
            padding: "4px 8px",
            borderRadius: "4px",
            cursor: "pointer",
            marginLeft: "8px"
          },
          children: "Inspect"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 480,
          columnNumber: 11
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: toggleRuler,
          className: showRuler ? "active" : "",
          title: getInspectTitle("Toggle ruler") || "Toggle Ruler",
          style: {
            backgroundColor: showRuler ? "#ef4444" : "transparent",
            color: showRuler ? "white" : "inherit",
            border: "1px solid #ef4444",
            padding: "4px 8px",
            borderRadius: "4px",
            cursor: "pointer",
            marginLeft: "8px"
          },
          children: "Ruler"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 497,
          columnNumber: 11
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: () => setRadialMenuVisible(!radialMenuVisible),
          className: radialMenuVisible ? "active" : "",
          title: getInspectTitle("Toggle radial menu") || "Toggle Radial Menu",
          style: {
            backgroundColor: radialMenuVisible ? "#10b981" : "transparent",
            color: radialMenuVisible ? "white" : "inherit",
            border: "1px solid #10b981",
            padding: "4px 8px",
            borderRadius: "4px",
            cursor: "pointer",
            marginLeft: "8px"
          },
          children: "Menu"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 514,
          columnNumber: 11
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Projects/yttv2/src/App.jsx",
      lineNumber: 431,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV(
      LayoutShell,
      {
        topController: /* @__PURE__ */ jsxDEV(
          PlayerController,
          {
            onPlaylistSelect: handlePlaylistSelect,
            onVideoSelect: handleVideoSelect,
            activePlayer,
            onActivePlayerChange: handleActivePlayerChange,
            secondPlayerVideoUrl,
            secondPlayerVideoIndex,
            onSecondPlayerVideoIndexChange: setSecondPlayerVideoIndex,
            secondPlayerPlaylistId,
            secondPlayerPlaylistItems,
            currentThemeId,
            onThemeChange: setCurrentThemeId
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/yttv2/src/App.jsx",
            lineNumber: 534,
            columnNumber: 24
          },
          this
        ),
        mainPlayer: isCurrentVideoLocal ? /* @__PURE__ */ jsxDEV(
          NativeVideoPlayer,
          {
            videoUrl: currentVideoUrl,
            videoId: currentVideoId,
            playerId: "main",
            onEnded: () => handleVideoEnded("main")
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/yttv2/src/App.jsx",
            lineNumber: 550,
            columnNumber: 9
          },
          this
        ) : /* @__PURE__ */ jsxDEV(
          YouTubePlayer,
          {
            videoUrl: currentVideoUrl,
            playerId: "main",
            onEnded: () => handleVideoEnded("main")
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/yttv2/src/App.jsx",
            lineNumber: 557,
            columnNumber: 9
          },
          this
        ),
        secondPlayer: secondPlayerVideoUrl ? /* @__PURE__ */ jsxDEV(YouTubePlayer, { videoUrl: secondPlayerVideoUrl, playerId: "second", onEnded: () => handleVideoEnded("second") }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 564,
          columnNumber: 46
        }, this) : null,
        miniHeader: /* @__PURE__ */ jsxDEV("div", { className: "w-full h-full flex items-center px-4", children: /* @__PURE__ */ jsxDEV(TopNavigation, {}, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 567,
          columnNumber: 13
        }, this) }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 566,
          columnNumber: 9
        }, this),
        animatedMenu: radialMenuVisible && containerConfig && dictionaryConfig ? /* @__PURE__ */ jsxDEV("div", { style: {
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          width: "100%",
          height: "100%",
          backgroundColor: "transparent",
          pointerEvents: "auto",
          zIndex: 10
        }, children: /* @__PURE__ */ jsxDEV(
          RadialMenuStandalone,
          {
            containerConfig,
            dictionaryConfig,
            backgroundColor: "transparent"
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/yttv2/src/App.jsx",
            lineNumber: 582,
            columnNumber: 15
          },
          this
        ) }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 572,
          columnNumber: 9
        }, this) : null,
        spacerMenu: null,
        menuSpacerMenu: null,
        sideMenu: showPlaylists && dbInitialized ? (() => {
          console.log("=== RENDERING PLAYLISTLIST IN APP ===");
          console.log("showPlaylists:", showPlaylists);
          console.log("dbInitialized:", dbInitialized);
          return /* @__PURE__ */ jsxDEV(PlaylistList, { onPlaylistSelect: handlePlaylistSelect, onVideoSelect: handleVideoSelect }, void 0, false, {
            fileName: "C:/Projects/yttv2/src/App.jsx",
            lineNumber: 598,
            columnNumber: 18
          }, this);
        })() : showPlaylists && !dbInitialized ? /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-center w-full h-full", children: /* @__PURE__ */ jsxDEV("p", { className: "text-black", children: "Initializing database..." }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 602,
          columnNumber: 15
        }, this) }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 601,
          columnNumber: 9
        }, this) : !showPlaylists && currentPage === "playlists" ? /* @__PURE__ */ jsxDEV(PlaylistsPage, { onVideoSelect: handleVideoSelect }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 605,
          columnNumber: 9
        }, this) : !showPlaylists && currentPage === "videos" ? /* @__PURE__ */ jsxDEV(VideosPage, { onVideoSelect: handleVideoSelect, onSecondPlayerSelect: handleSecondPlayerSelect }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 607,
          columnNumber: 9
        }, this) : !showPlaylists && currentPage === "history" ? /* @__PURE__ */ jsxDEV(HistoryPage, { onVideoSelect: handleVideoSelect, onSecondPlayerSelect: handleSecondPlayerSelect }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 609,
          columnNumber: 9
        }, this) : !showPlaylists && currentPage === "likes" ? /* @__PURE__ */ jsxDEV(LikesPage, { onVideoSelect: handleVideoSelect }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 611,
          columnNumber: 9
        }, this) : !showPlaylists && currentPage === "pins" ? /* @__PURE__ */ jsxDEV(PinsPage, { onVideoSelect: handleVideoSelect }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 613,
          columnNumber: 9
        }, this) : !showPlaylists && currentPage === "settings" ? /* @__PURE__ */ jsxDEV(SettingsPage, { currentThemeId, onThemeChange: setCurrentThemeId }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 616,
          columnNumber: 9
        }, this) : !showPlaylists && currentPage === "support" ? /* @__PURE__ */ jsxDEV(SupportPage, { onVideoSelect: handleVideoSelect }, void 0, false, {
          fileName: "C:/Projects/yttv2/src/App.jsx",
          lineNumber: 618,
          columnNumber: 9
        }, this) : null
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/yttv2/src/App.jsx",
        lineNumber: 533,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Projects/yttv2/src/App.jsx",
    lineNumber: 428,
    columnNumber: 5
  }, this);
}
_s(App, "f2h7LSUY7Sc9ATh60GfSmwCyM1g=", false, function() {
  return [useLayoutStore, usePlaylistStore, useNavigationStore, usePinStore];
});
_c = App;
export default App;
var _c;
$RefreshReg$(_c, "App");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/yttv2/src/App.jsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/yttv2/src/App.jsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QUM3RSxDQUFDM0IsaUJBQWlCTyxnQkFBZ0IsWUFDcEMsdUJBQUMsZUFBWSxlQUFleUUscUJBQTVCO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFBOEMsSUFDNUM7QUFBQTtBQUFBLE1BdEZSO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQXVGRztBQUFBLE9BaE1MO0FBQUE7QUFBQTtBQUFBO0FBQUEsU0FrTUE7QUFFSjtBQUFDL0YsR0Foa0JRRCxLQUFHO0FBQUEsVUFDNEtkLGdCQUl0Q0Msa0JBQ3hIQyxvQkFjSUMsV0FBVztBQUFBO0FBQUF3SSxLQXBCaEM3SDtBQWtrQlQsZUFBZUE7QUFBSSxJQUFBNkg7QUFBQUMsYUFBQUQsSUFBQSIsIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJMYXlvdXRTaGVsbCIsIlBsYXllckNvbnRyb2xsZXIiLCJQbGF5bGlzdHNCdXR0b24iLCJQbGF5bGlzdExpc3QiLCJUb3BOYXZpZ2F0aW9uIiwiUGxheWxpc3RzUGFnZSIsIlZpZGVvc1BhZ2UiLCJIaXN0b3J5UGFnZSIsIkxpa2VzUGFnZSIsIlBpbnNQYWdlIiwiWW91VHViZVBsYXllciIsIkxvY2FsVmlkZW9QbGF5ZXIiLCJOYXRpdmVWaWRlb1BsYXllciIsInVzZUxheW91dFN0b3JlIiwidXNlUGxheWxpc3RTdG9yZSIsInVzZU5hdmlnYXRpb25TdG9yZSIsInVzZVBpblN0b3JlIiwiaW5pdGlhbGl6ZVRlc3REYXRhIiwiYWRkVG9XYXRjaEhpc3RvcnkiLCJnZXRXYXRjaEhpc3RvcnkiLCJnZXRBbGxQbGF5bGlzdHMiLCJnZXRQbGF5bGlzdEl0ZW1zIiwiZXh0cmFjdFZpZGVvSWQiLCJSYWRpYWxNZW51U3RhbmRhbG9uZSIsIlNldHRpbmdzUGFnZSIsIlN1cHBvcnRQYWdlIiwiVEhFTUVTIiwiQXBwIiwiX3MiLCJ2aWV3TW9kZSIsInNldFZpZXdNb2RlIiwibWVudVF1YXJ0ZXJNb2RlIiwidG9nZ2xlTWVudVF1YXJ0ZXJNb2RlIiwic2hvd0RlYnVnQm91bmRzIiwidG9nZ2xlRGVidWdCb3VuZHMiLCJpbnNwZWN0TW9kZSIsInRvZ2dsZUluc3BlY3RNb2RlIiwic2hvd1J1bGVyIiwidG9nZ2xlUnVsZXIiLCJzaG93RGV2VG9vbGJhciIsImdldEluc3BlY3RUaXRsZSIsImxhYmVsIiwidW5kZWZpbmVkIiwic2hvd1BsYXlsaXN0cyIsInNldFNob3dQbGF5bGlzdHMiLCJzZXRQbGF5bGlzdEl0ZW1zIiwiY3VycmVudFBsYXlsaXN0SXRlbXMiLCJjdXJyZW50UGxheWxpc3RJZCIsImN1cnJlbnRWaWRlb0luZGV4Iiwic2V0Q3VycmVudFZpZGVvSW5kZXgiLCJjdXJyZW50UGFnZSIsImRiSW5pdGlhbGl6ZWQiLCJzZXREYkluaXRpYWxpemVkIiwiY29udGFpbmVyQ29uZmlnIiwic2V0Q29udGFpbmVyQ29uZmlnIiwiZGljdGlvbmFyeUNvbmZpZyIsInNldERpY3Rpb25hcnlDb25maWciLCJyYWRpYWxNZW51VmlzaWJsZSIsInNldFJhZGlhbE1lbnVWaXNpYmxlIiwic2Vjb25kUGxheWVyVmlkZW9VcmwiLCJzZXRTZWNvbmRQbGF5ZXJWaWRlb1VybCIsInNlY29uZFBsYXllclZpZGVvSW5kZXgiLCJzZXRTZWNvbmRQbGF5ZXJWaWRlb0luZGV4Iiwic2Vjb25kUGxheWVyUGxheWxpc3RJZCIsInNldFNlY29uZFBsYXllclBsYXlsaXN0SWQiLCJzZWNvbmRQbGF5ZXJQbGF5bGlzdEl0ZW1zIiwic2V0U2Vjb25kUGxheWVyUGxheWxpc3RJdGVtcyIsImFjdGl2ZVBsYXllciIsInNldEFjdGl2ZVBsYXllciIsImN1cnJlbnRUaGVtZUlkIiwic2V0Q3VycmVudFRoZW1lSWQiLCJjaGVja0V4cGlyYXRpb24iLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIm1vZGUxQ2hlY2twb2ludCIsInNldE1vZGUxQ2hlY2twb2ludCIsImNvbnNvbGUiLCJsb2ciLCJsb2FkQ29uZmlncyIsImNvbnRhaW5lclJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwic3RhdHVzIiwiY29udGFpbmVyRGF0YSIsImpzb24iLCJkaWN0aW9uYXJ5UmVzcG9uc2UiLCJkaWN0aW9uYXJ5RGF0YSIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJlcnJvciIsInZpc2libGUiLCJoYXNDb250YWluZXJDb25maWciLCJoYXNEaWN0aW9uYXJ5Q29uZmlnIiwiY29udGFpbmVyQ29uZmlnS2V5cyIsImluaXQiLCJoaXN0b3J5IiwibW9zdFJlY2VudCIsInZpZGVvSWQiLCJ2aWRlb19pZCIsImFsbFBsYXlsaXN0cyIsInBsYXlsaXN0IiwiaXRlbXMiLCJpZCIsInZpZGVvSW5kZXgiLCJmaW5kSW5kZXgiLCJpdGVtIiwidmlkZW9fdXJsIiwiY3VycmVudFZpZGVvVXJsIiwidXNlTWVtbyIsImlzQ3VycmVudFZpZGVvTG9jYWwiLCJpc19sb2NhbCIsImN1cnJlbnRWaWRlb0lkIiwiYWN0aXZlVmlkZW9VcmwiLCJ0cmFja1ZpZGVvUGxheSIsImN1cnJlbnRWaWRlbyIsInRpdGxlIiwidGh1bWJuYWlsVXJsIiwidGh1bWJuYWlsX3VybCIsImhhbmRsZVBsYXlsaXN0U2VsZWN0IiwicGxheWxpc3RJZCIsImhhbmRsZVZpZGVvU2VsZWN0IiwidmlkZW9VcmwiLCJpbmRleCIsImhhbmRsZVNlY29uZFBsYXllclNlbGVjdCIsInBsYXlsaXN0SXRlbXMiLCJmb3VuZFBsYXlsaXN0SWQiLCJmb3VuZFBsYXlsaXN0SXRlbXMiLCJoYW5kbGVBY3RpdmVQbGF5ZXJDaGFuZ2UiLCJuZXdBY3RpdmVQbGF5ZXIiLCJoYW5kbGVWaWRlb0VuZGVkIiwiZW5kZWRQbGF5ZXJJZCIsIm5leHRJbmRleCIsIm5leHRWaWRlbyIsImJnIiwid2lkdGgiLCJoZWlnaHQiLCJvdmVyZmxvdyIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiYm9yZGVyIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImN1cnNvciIsIm1hcmdpbkxlZnQiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwicG9pbnRlckV2ZW50cyIsInpJbmRleCIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIkFwcC5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGF5b3V0U2hlbGwgZnJvbSAnLi9MYXlvdXRTaGVsbCc7XG5pbXBvcnQgUGxheWVyQ29udHJvbGxlciBmcm9tICcuL2NvbXBvbmVudHMvUGxheWVyQ29udHJvbGxlcic7XG5pbXBvcnQgUGxheWxpc3RzQnV0dG9uIGZyb20gJy4vY29tcG9uZW50cy9QbGF5bGlzdHNCdXR0b24nO1xuaW1wb3J0IFBsYXlsaXN0TGlzdCBmcm9tICcuL2NvbXBvbmVudHMvUGxheWxpc3RMaXN0JztcbmltcG9ydCBUb3BOYXZpZ2F0aW9uIGZyb20gJy4vY29tcG9uZW50cy9Ub3BOYXZpZ2F0aW9uJztcbmltcG9ydCBQbGF5bGlzdHNQYWdlIGZyb20gJy4vY29tcG9uZW50cy9QbGF5bGlzdHNQYWdlJztcbmltcG9ydCBWaWRlb3NQYWdlIGZyb20gJy4vY29tcG9uZW50cy9WaWRlb3NQYWdlJztcbmltcG9ydCBIaXN0b3J5UGFnZSBmcm9tICcuL2NvbXBvbmVudHMvSGlzdG9yeVBhZ2UnO1xuaW1wb3J0IExpa2VzUGFnZSBmcm9tICcuL2NvbXBvbmVudHMvTGlrZXNQYWdlJztcbmltcG9ydCBQaW5zUGFnZSBmcm9tICcuL2NvbXBvbmVudHMvUGluc1BhZ2UnO1xuXG5pbXBvcnQgWW91VHViZVBsYXllciBmcm9tICcuL2NvbXBvbmVudHMvWW91VHViZVBsYXllcic7XG5pbXBvcnQgTG9jYWxWaWRlb1BsYXllciBmcm9tICcuL2NvbXBvbmVudHMvTG9jYWxWaWRlb1BsYXllcic7XG5pbXBvcnQgTmF0aXZlVmlkZW9QbGF5ZXIgZnJvbSAnLi9jb21wb25lbnRzL05hdGl2ZVZpZGVvUGxheWVyJztcbmltcG9ydCB7IHVzZUxheW91dFN0b3JlIH0gZnJvbSAnLi9zdG9yZS9sYXlvdXRTdG9yZSc7XG5pbXBvcnQgeyB1c2VQbGF5bGlzdFN0b3JlIH0gZnJvbSAnLi9zdG9yZS9wbGF5bGlzdFN0b3JlJztcbmltcG9ydCB7IHVzZU5hdmlnYXRpb25TdG9yZSB9IGZyb20gJy4vc3RvcmUvbmF2aWdhdGlvblN0b3JlJztcbmltcG9ydCB7IHVzZVBpblN0b3JlIH0gZnJvbSAnLi9zdG9yZS9waW5TdG9yZSc7XG5pbXBvcnQgeyBpbml0aWFsaXplVGVzdERhdGEgfSBmcm9tICcuL3V0aWxzL2luaXREYXRhYmFzZSc7XG5pbXBvcnQgeyBhZGRUb1dhdGNoSGlzdG9yeSwgZ2V0V2F0Y2hIaXN0b3J5LCBnZXRBbGxQbGF5bGlzdHMsIGdldFBsYXlsaXN0SXRlbXMgfSBmcm9tICcuL2FwaS9wbGF5bGlzdEFwaSc7XG5pbXBvcnQgeyBleHRyYWN0VmlkZW9JZCB9IGZyb20gJy4vdXRpbHMveW91dHViZVV0aWxzJztcbmltcG9ydCBSYWRpYWxNZW51U3RhbmRhbG9uZSBmcm9tICcuL2NvbXBvbmVudHMvUmFkaWFsTWVudVN0YW5kYWxvbmUnO1xuaW1wb3J0IFNldHRpbmdzUGFnZSBmcm9tICcuL2NvbXBvbmVudHMvU2V0dGluZ3NQYWdlJztcbmltcG9ydCBTdXBwb3J0UGFnZSBmcm9tICcuL2NvbXBvbmVudHMvU3VwcG9ydFBhZ2UnO1xuaW1wb3J0IHsgVEhFTUVTIH0gZnJvbSAnLi91dGlscy90aGVtZXMnO1xuaW1wb3J0ICcuL0FwcC5jc3MnO1xuXG5mdW5jdGlvbiBBcHAoKSB7XG4gIGNvbnN0IHsgdmlld01vZGUsIHNldFZpZXdNb2RlLCBtZW51UXVhcnRlck1vZGUsIHRvZ2dsZU1lbnVRdWFydGVyTW9kZSwgc2hvd0RlYnVnQm91bmRzLCB0b2dnbGVEZWJ1Z0JvdW5kcywgaW5zcGVjdE1vZGUsIHRvZ2dsZUluc3BlY3RNb2RlLCBzaG93UnVsZXIsIHRvZ2dsZVJ1bGVyLCBzaG93RGV2VG9vbGJhciB9ID0gdXNlTGF5b3V0U3RvcmUoKTtcblxuICAvLyBIZWxwZXIgdG8gZ2V0IGluc3BlY3QgbGFiZWxcbiAgY29uc3QgZ2V0SW5zcGVjdFRpdGxlID0gKGxhYmVsKSA9PiBpbnNwZWN0TW9kZSA/IGxhYmVsIDogdW5kZWZpbmVkO1xuICBjb25zdCB7IHNob3dQbGF5bGlzdHMsIHNldFNob3dQbGF5bGlzdHMsIHNldFBsYXlsaXN0SXRlbXMsIGN1cnJlbnRQbGF5bGlzdEl0ZW1zLCBjdXJyZW50UGxheWxpc3RJZCwgY3VycmVudFZpZGVvSW5kZXgsIHNldEN1cnJlbnRWaWRlb0luZGV4IH0gPSB1c2VQbGF5bGlzdFN0b3JlKCk7XG4gIGNvbnN0IHsgY3VycmVudFBhZ2UgfSA9IHVzZU5hdmlnYXRpb25TdG9yZSgpO1xuICBjb25zdCBbZGJJbml0aWFsaXplZCwgc2V0RGJJbml0aWFsaXplZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb250YWluZXJDb25maWcsIHNldENvbnRhaW5lckNvbmZpZ10gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2RpY3Rpb25hcnlDb25maWcsIHNldERpY3Rpb25hcnlDb25maWddID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtyYWRpYWxNZW51VmlzaWJsZSwgc2V0UmFkaWFsTWVudVZpc2libGVdID0gdXNlU3RhdGUodHJ1ZSk7IC8vIFN0YXJ0IHZpc2libGUgZm9yIHRlc3RpbmdcbiAgY29uc3QgW3NlY29uZFBsYXllclZpZGVvVXJsLCBzZXRTZWNvbmRQbGF5ZXJWaWRlb1VybF0gPSB1c2VTdGF0ZShudWxsKTtcblxuICBjb25zdCBbc2Vjb25kUGxheWVyVmlkZW9JbmRleCwgc2V0U2Vjb25kUGxheWVyVmlkZW9JbmRleF0gPSB1c2VTdGF0ZSgwKTsgLy8gVHJhY2sgc2Vjb25kIHBsYXllcidzIHZpZGVvIGluZGV4XG4gIGNvbnN0IFtzZWNvbmRQbGF5ZXJQbGF5bGlzdElkLCBzZXRTZWNvbmRQbGF5ZXJQbGF5bGlzdElkXSA9IHVzZVN0YXRlKG51bGwpOyAvLyBUcmFjayBzZWNvbmQgcGxheWVyJ3MgcGxheWxpc3QgSURcbiAgY29uc3QgW3NlY29uZFBsYXllclBsYXlsaXN0SXRlbXMsIHNldFNlY29uZFBsYXllclBsYXlsaXN0SXRlbXNdID0gdXNlU3RhdGUoW10pOyAvLyBUcmFjayBzZWNvbmQgcGxheWVyJ3MgcGxheWxpc3QgaXRlbXNcbiAgY29uc3QgW2FjdGl2ZVBsYXllciwgc2V0QWN0aXZlUGxheWVyXSA9IHVzZVN0YXRlKDEpOyAvLyAxID0gbWFpbiBwbGF5ZXIsIDIgPSBtb2RlIDIgKGFsdGVybmF0aXZlIHZpZGVvIGluIG1haW4gcGxheWVyKVxuICBjb25zdCBbY3VycmVudFRoZW1lSWQsIHNldEN1cnJlbnRUaGVtZUlkXSA9IHVzZVN0YXRlKCdibHVlJyk7IC8vIFRoZW1lIHN0YXRlIGxpZnRlZCBmcm9tIFBsYXllckNvbnRyb2xsZXJcblxuICAvLyBQaW4gZXhwaXJhdGlvbiBjaGVja1xuICBjb25zdCB7IGNoZWNrRXhwaXJhdGlvbiB9ID0gdXNlUGluU3RvcmUoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDaGVjayBvbiBtb3VudFxuICAgIGNoZWNrRXhwaXJhdGlvbigpO1xuXG4gICAgLy8gQ2hlY2sgZXZlcnkgbWludXRlXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVja0V4cGlyYXRpb24sIDYwMDAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtjaGVja0V4cGlyYXRpb25dKTtcblxuICAvLyBNb2RlIDEgY2hlY2twb2ludCAtIHNhdmVzIHN0YXRlIGJlZm9yZSBlbnRlcmluZyBtb2RlIDJcbiAgY29uc3QgW21vZGUxQ2hlY2twb2ludCwgc2V0TW9kZTFDaGVja3BvaW50XSA9IHVzZVN0YXRlKG51bGwpOyAvLyB7IHZpZGVvVXJsLCBwbGF5bGlzdElkLCB2aWRlb0luZGV4LCBwbGF5bGlzdEl0ZW1zIH1cblxuICAvLyBEZWJ1ZyBsb2dnaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJz09PSBBUFAgU1RBVEUgREVCVUcgPT09Jyk7XG4gICAgY29uc29sZS5sb2coJ3Nob3dQbGF5bGlzdHM6Jywgc2hvd1BsYXlsaXN0cyk7XG4gICAgY29uc29sZS5sb2coJ2RiSW5pdGlhbGl6ZWQ6JywgZGJJbml0aWFsaXplZCk7XG4gICAgY29uc29sZS5sb2coJ3ZpZXdNb2RlOicsIHZpZXdNb2RlKTtcbiAgICBjb25zb2xlLmxvZygnY3VycmVudFBhZ2U6JywgY3VycmVudFBhZ2UpO1xuICB9LCBbc2hvd1BsYXlsaXN0cywgZGJJbml0aWFsaXplZCwgdmlld01vZGUsIGN1cnJlbnRQYWdlXSk7XG5cbiAgLy8gTG9hZCByYWRpYWwgbWVudSBjb25maWdzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZENvbmZpZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyByYWRpYWwgbWVudSBjb25maWdzLi4uJyk7XG4gICAgICAgIC8vIExvYWQgY29udGFpbmVyIGNvbmZpZ1xuICAgICAgICBjb25zdCBjb250YWluZXJSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvY29udGFpbmVyLWNvbmZpZyAoMTEpLmpzb24nKTtcbiAgICAgICAgaWYgKCFjb250YWluZXJSZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udGFpbmVyIGNvbmZpZyBmYWlsZWQ6ICR7Y29udGFpbmVyUmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckRhdGEgPSBhd2FpdCBjb250YWluZXJSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb250YWluZXIgY29uZmlnIGxvYWRlZDonLCBjb250YWluZXJEYXRhKTtcbiAgICAgICAgc2V0Q29udGFpbmVyQ29uZmlnKGNvbnRhaW5lckRhdGEpO1xuXG4gICAgICAgIC8vIExvYWQgZGljdGlvbmFyeSBjb25maWdcbiAgICAgICAgY29uc3QgZGljdGlvbmFyeVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9kaWN0aW9uYXJ5Lmpzb24nKTtcbiAgICAgICAgaWYgKCFkaWN0aW9uYXJ5UmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpY3Rpb25hcnkgY29uZmlnIGZhaWxlZDogJHtkaWN0aW9uYXJ5UmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpY3Rpb25hcnlEYXRhID0gYXdhaXQgZGljdGlvbmFyeVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0RpY3Rpb25hcnkgY29uZmlnIGxvYWRlZDonLCBPYmplY3Qua2V5cyhkaWN0aW9uYXJ5RGF0YSkubGVuZ3RoLCAnZW50cmllcycpO1xuICAgICAgICBzZXREaWN0aW9uYXJ5Q29uZmlnKGRpY3Rpb25hcnlEYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHJhZGlhbCBtZW51IGNvbmZpZ3M6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gICAgbG9hZENvbmZpZ3MoKTtcbiAgfSwgW10pO1xuXG4gIC8vIERlYnVnIGxvZ2dpbmcgZm9yIHJhZGlhbCBtZW51XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1JhZGlhbCBtZW51IHN0YXRlIHVwZGF0ZWQ6Jywge1xuICAgICAgdmlzaWJsZTogcmFkaWFsTWVudVZpc2libGUsXG4gICAgICBoYXNDb250YWluZXJDb25maWc6ICEhY29udGFpbmVyQ29uZmlnLFxuICAgICAgaGFzRGljdGlvbmFyeUNvbmZpZzogISFkaWN0aW9uYXJ5Q29uZmlnLFxuICAgICAgY29udGFpbmVyQ29uZmlnS2V5czogY29udGFpbmVyQ29uZmlnID8gT2JqZWN0LmtleXMoY29udGFpbmVyQ29uZmlnKSA6IG51bGxcbiAgICB9KTtcbiAgfSwgW3JhZGlhbE1lbnVWaXNpYmxlLCBjb250YWluZXJDb25maWcsIGRpY3Rpb25hcnlDb25maWddKTtcblxuICAvLyBJbml0aWFsaXplIGRhdGFiYXNlIHdpdGggdGVzdCBkYXRhIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGluaXRpYWxpemVUZXN0RGF0YSgpO1xuICAgICAgICBzZXREYkluaXRpYWxpemVkKHRydWUpO1xuXG4gICAgICAgIC8vIExvYWQgbW9zdCByZWNlbnQgdmlkZW8gZnJvbSB3YXRjaCBoaXN0b3J5XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IGdldFdhdGNoSGlzdG9yeSgxKTtcbiAgICAgICAgICBpZiAoaGlzdG9yeSAmJiBoaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG1vc3RSZWNlbnQgPSBoaXN0b3J5WzBdO1xuICAgICAgICAgICAgY29uc3QgdmlkZW9JZCA9IG1vc3RSZWNlbnQudmlkZW9faWQ7XG5cbiAgICAgICAgICAgIC8vIEZpbmQgd2hpY2ggcGxheWxpc3QgY29udGFpbnMgdGhpcyB2aWRlb1xuICAgICAgICAgICAgY29uc3QgYWxsUGxheWxpc3RzID0gYXdhaXQgZ2V0QWxsUGxheWxpc3RzKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBsYXlsaXN0IG9mIGFsbFBsYXlsaXN0cykge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZ2V0UGxheWxpc3RJdGVtcyhwbGF5bGlzdC5pZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlkZW9JbmRleCA9IGl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udmlkZW9faWQgPT09IHZpZGVvSWQpO1xuICAgICAgICAgICAgICAgIGlmICh2aWRlb0luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIHRoZSBwbGF5bGlzdCAtIGxvYWQgaXQgYW5kIHNldCB0aGUgdmlkZW9cbiAgICAgICAgICAgICAgICAgIHNldFBsYXlsaXN0SXRlbXMoaXRlbXMsIHBsYXlsaXN0LmlkKTtcbiAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRWaWRlb0luZGV4KHZpZGVvSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvYWRlZCBtb3N0IHJlY2VudCB2aWRlbyBmcm9tIHdhdGNoIGhpc3Rvcnk6JywgbW9zdFJlY2VudC52aWRlb191cmwpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gbG9hZCBwbGF5bGlzdCAke3BsYXlsaXN0LmlkfTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNb3N0IHJlY2VudCB2aWRlbyBub3QgZm91bmQgaW4gYW55IHBsYXlsaXN0LCB1c2luZyBkZWZhdWx0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHdhdGNoIGhpc3RvcnkgZm9yIGluaXRpYWxpemF0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIGRlZmF1bHQgdmlkZW9cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgZGF0YWJhc2U6JywgZXJyb3IpO1xuICAgICAgICBzZXREYkluaXRpYWxpemVkKHRydWUpOyAvLyBTZXQgdG8gdHJ1ZSBhbnl3YXkgdG8gcHJldmVudCBpbmZpbml0ZSBsb2FkaW5nXG4gICAgICB9XG4gICAgfTtcbiAgICBpbml0KCk7XG4gIH0sIFtzZXRQbGF5bGlzdEl0ZW1zLCBzZXRDdXJyZW50VmlkZW9JbmRleF0pO1xuXG4gIC8vIEdldCBjdXJyZW50IHZpZGVvIFVSTCBmcm9tIHBsYXlsaXN0IC0gbWFrZSBpdCByZWFjdGl2ZVxuICBjb25zdCBjdXJyZW50VmlkZW9VcmwgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoY3VycmVudFBsYXlsaXN0SXRlbXMubGVuZ3RoID4gMCAmJiBjdXJyZW50VmlkZW9JbmRleCA8IGN1cnJlbnRQbGF5bGlzdEl0ZW1zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRQbGF5bGlzdEl0ZW1zW2N1cnJlbnRWaWRlb0luZGV4XS52aWRlb191cmw7XG4gICAgfVxuICAgIHJldHVybiAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1RaWVtZ0MzOXRBMCc7IC8vIERlZmF1bHQgZmFsbGJhY2tcbiAgfSwgW2N1cnJlbnRQbGF5bGlzdEl0ZW1zLCBjdXJyZW50VmlkZW9JbmRleF0pO1xuXG4gIC8vIENoZWNrIGlmIGN1cnJlbnQgdmlkZW8gaXMgbG9jYWxcbiAgY29uc3QgaXNDdXJyZW50VmlkZW9Mb2NhbCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChjdXJyZW50UGxheWxpc3RJdGVtcy5sZW5ndGggPiAwICYmIGN1cnJlbnRWaWRlb0luZGV4IDwgY3VycmVudFBsYXlsaXN0SXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gY3VycmVudFBsYXlsaXN0SXRlbXNbY3VycmVudFZpZGVvSW5kZXhdLmlzX2xvY2FsIHx8IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sIFtjdXJyZW50UGxheWxpc3RJdGVtcywgY3VycmVudFZpZGVvSW5kZXhdKTtcblxuICAvLyBHZXQgY3VycmVudCB2aWRlbyBJRFxuICBjb25zdCBjdXJyZW50VmlkZW9JZCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChjdXJyZW50UGxheWxpc3RJdGVtcy5sZW5ndGggPiAwICYmIGN1cnJlbnRWaWRlb0luZGV4IDwgY3VycmVudFBsYXlsaXN0SXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gY3VycmVudFBsYXlsaXN0SXRlbXNbY3VycmVudFZpZGVvSW5kZXhdLnZpZGVvX2lkO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgW2N1cnJlbnRQbGF5bGlzdEl0ZW1zLCBjdXJyZW50VmlkZW9JbmRleF0pO1xuXG4gIC8vIEdldCB0aGUgYWN0aXZlIHZpZGVvIFVSTCBiYXNlZCBvbiB3aGljaCBwbGF5ZXIgaXMgYWN0aXZlXG4gIGNvbnN0IGFjdGl2ZVZpZGVvVXJsID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZVBsYXllciA9PT0gMSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRWaWRlb1VybDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNlY29uZFBsYXllclZpZGVvVXJsIHx8IGN1cnJlbnRWaWRlb1VybDsgLy8gRmFsbGJhY2sgdG8gbWFpbiBpZiBzZWNvbmQgaGFzIG5vIHZpZGVvXG4gICAgfVxuICB9LCBbYWN0aXZlUGxheWVyLCBjdXJyZW50VmlkZW9VcmwsIHNlY29uZFBsYXllclZpZGVvVXJsXSk7XG5cbiAgLy8gVHJhY2sgdmlkZW8gcGxheXMgaW4gd2F0Y2ggaGlzdG9yeVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHRyYWNrVmlkZW9QbGF5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50VmlkZW9VcmwgfHwgY3VycmVudFZpZGVvVXJsID09PSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1RaWVtZ0MzOXRBMCcpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBTa2lwIGRlZmF1bHQgZmFsbGJhY2tcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmlkZW9JZCA9IGV4dHJhY3RWaWRlb0lkKGN1cnJlbnRWaWRlb1VybCk7XG4gICAgICAgIGlmICghdmlkZW9JZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEdldCB2aWRlbyBpbmZvIGZyb20gY3VycmVudCBwbGF5bGlzdCBpdGVtcyBpZiBhdmFpbGFibGVcbiAgICAgICAgY29uc3QgY3VycmVudFZpZGVvID0gY3VycmVudFBsYXlsaXN0SXRlbXMubGVuZ3RoID4gMCAmJiBjdXJyZW50VmlkZW9JbmRleCA8IGN1cnJlbnRQbGF5bGlzdEl0ZW1zLmxlbmd0aFxuICAgICAgICAgID8gY3VycmVudFBsYXlsaXN0SXRlbXNbY3VycmVudFZpZGVvSW5kZXhdXG4gICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gY3VycmVudFZpZGVvPy50aXRsZSB8fCBudWxsO1xuICAgICAgICBjb25zdCB0aHVtYm5haWxVcmwgPSBjdXJyZW50VmlkZW8/LnRodW1ibmFpbF91cmwgfHwgbnVsbDtcblxuICAgICAgICAvLyBBZGQgdG8gd2F0Y2ggaGlzdG9yeVxuICAgICAgICBhd2FpdCBhZGRUb1dhdGNoSGlzdG9yeShjdXJyZW50VmlkZW9VcmwsIHZpZGVvSWQsIHRpdGxlLCB0aHVtYm5haWxVcmwpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHRyYWNrIHZpZGVvIHBsYXk6JywgZXJyb3IpO1xuICAgICAgICAvLyBEb24ndCBzaG93IGVycm9yIHRvIHVzZXIgLSBoaXN0b3J5IHRyYWNraW5nIGlzIG5vbi1jcml0aWNhbFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBPbmx5IHRyYWNrIGlmIGRhdGFiYXNlIGlzIGluaXRpYWxpemVkXG4gICAgaWYgKGRiSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRyYWNrVmlkZW9QbGF5KCk7XG4gICAgfVxuICB9LCBbY3VycmVudFZpZGVvVXJsLCBkYkluaXRpYWxpemVkLCBjdXJyZW50UGxheWxpc3RJdGVtcywgY3VycmVudFZpZGVvSW5kZXhdKTtcblxuICBjb25zdCBoYW5kbGVQbGF5bGlzdFNlbGVjdCA9IChpdGVtcywgcGxheWxpc3RJZCkgPT4ge1xuICAgIHNldFBsYXlsaXN0SXRlbXMoaXRlbXMsIHBsYXlsaXN0SWQpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVZpZGVvU2VsZWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgLy8gUm91dGUgdG8gdGhlIGFwcHJvcHJpYXRlIHBsYXllciBiYXNlZCBvbiBhY3RpdmUgcGxheWVyIG1vZGVcbiAgICBpZiAoYWN0aXZlUGxheWVyID09PSAxKSB7XG4gICAgICAvLyBDb250cm9sIG1haW4gcGxheWVyXG4gICAgICBjb25zdCB2aWRlb0luZGV4ID0gY3VycmVudFBsYXlsaXN0SXRlbXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS52aWRlb191cmwgPT09IHZpZGVvVXJsKTtcbiAgICAgIGlmICh2aWRlb0luZGV4ID49IDApIHtcbiAgICAgICAgc2V0Q3VycmVudFZpZGVvSW5kZXgodmlkZW9JbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBWaWRlbyBub3QgaW4gY3VycmVudCBwbGF5bGlzdCAtIHNlYXJjaCB0aHJvdWdoIGFsbCBwbGF5bGlzdHNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhbGxQbGF5bGlzdHMgPSBhd2FpdCBnZXRBbGxQbGF5bGlzdHMoKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBsYXlsaXN0IG9mIGFsbFBsYXlsaXN0cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRQbGF5bGlzdEl0ZW1zKHBsYXlsaXN0LmlkKTtcbiAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnZpZGVvX3VybCA9PT0gdmlkZW9VcmwpO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEZvdW5kIHRoZSB2aWRlbyAtIGxvYWQgdGhlIHBsYXlsaXN0IGFuZCBzZXQgdGhlIGluZGV4XG4gICAgICAgICAgICAgICAgc2V0UGxheWxpc3RJdGVtcyhpdGVtcywgcGxheWxpc3QuaWQpO1xuICAgICAgICAgICAgICAgIC8vIEFsc28gY2FsbCBoYW5kbGVQbGF5bGlzdFNlbGVjdCB0byBlbnN1cmUgc2lkZSBtZW51IHVwZGF0ZXMgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgaGFuZGxlUGxheWxpc3RTZWxlY3QoaXRlbXMsIHBsYXlsaXN0LmlkKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VmlkZW9JbmRleChpbmRleCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHNlYXJjaGluZyBvdGhlciBwbGF5bGlzdHNcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGxvYWQgcGxheWxpc3QgJHtwbGF5bGlzdC5pZH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VhcmNoIHBsYXlsaXN0cyBmb3IgdmlkZW86JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbnRyb2wgc2Vjb25kIHBsYXllclxuICAgICAgc2V0U2Vjb25kUGxheWVyVmlkZW9VcmwodmlkZW9VcmwpO1xuICAgICAgLy8gVHJ5IHRvIGZpbmQgaW4gc2Vjb25kIHBsYXllcidzIHBsYXlsaXN0IGZpcnN0XG4gICAgICBsZXQgdmlkZW9JbmRleCA9IC0xO1xuICAgICAgaWYgKHNlY29uZFBsYXllclBsYXlsaXN0SXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2aWRlb0luZGV4ID0gc2Vjb25kUGxheWVyUGxheWxpc3RJdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnZpZGVvX3VybCA9PT0gdmlkZW9VcmwpO1xuICAgICAgICBpZiAodmlkZW9JbmRleCA+PSAwKSB7XG4gICAgICAgICAgc2V0U2Vjb25kUGxheWVyVmlkZW9JbmRleCh2aWRlb0luZGV4KTtcbiAgICAgICAgICAvLyBLZWVwIHRoZSBzZWNvbmQgcGxheWVyJ3MgcGxheWxpc3QgLSBkb24ndCBjaGFuZ2UgaXRcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIElmIG5vdCBmb3VuZCBpbiBzZWNvbmQgcGxheWVyJ3MgcGxheWxpc3QsIHNlYXJjaCBhbGwgcGxheWxpc3RzXG4gICAgICAvLyBUaGlzIGhhbmRsZXMgdGhlIGNhc2Ugd2hlcmUgbmF2aWdhdGlvbiBtaWdodCBoYXZlIG1vdmVkIHRvIGEgZGlmZmVyZW50IHBsYXlsaXN0XG4gICAgICBpZiAodmlkZW9JbmRleCA8IDApIHtcbiAgICAgICAgLy8gRmlyc3QgdHJ5IGN1cnJlbnQgcGxheWxpc3RcbiAgICAgICAgdmlkZW9JbmRleCA9IGN1cnJlbnRQbGF5bGlzdEl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udmlkZW9fdXJsID09PSB2aWRlb1VybCk7XG4gICAgICAgIGlmICh2aWRlb0luZGV4ID49IDApIHtcbiAgICAgICAgICBzZXRTZWNvbmRQbGF5ZXJWaWRlb0luZGV4KHZpZGVvSW5kZXgpO1xuICAgICAgICAgIHNldFNlY29uZFBsYXllclBsYXlsaXN0SWQoY3VycmVudFBsYXlsaXN0SWQpO1xuICAgICAgICAgIHNldFNlY29uZFBsYXllclBsYXlsaXN0SXRlbXMoY3VycmVudFBsYXlsaXN0SXRlbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIG5vdCBpbiBjdXJyZW50IHBsYXlsaXN0IGVpdGhlciwgc2VhcmNoIGFsbCBwbGF5bGlzdHMgKHNpbWlsYXIgdG8gaGFuZGxlU2Vjb25kUGxheWVyU2VsZWN0KVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhbGxQbGF5bGlzdHMgPSBhd2FpdCBnZXRBbGxQbGF5bGlzdHMoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGxheWxpc3Qgb2YgYWxsUGxheWxpc3RzKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRQbGF5bGlzdEl0ZW1zKHBsYXlsaXN0LmlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udmlkZW9fdXJsID09PSB2aWRlb1VybCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgIHNldFNlY29uZFBsYXllclZpZGVvSW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgc2V0U2Vjb25kUGxheWVyUGxheWxpc3RJZChwbGF5bGlzdC5pZCk7XG4gICAgICAgICAgICAgICAgICBzZXRTZWNvbmRQbGF5ZXJQbGF5bGlzdEl0ZW1zKGl0ZW1zKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBDb250aW51ZSBzZWFyY2hpbmdcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gbG9hZCBwbGF5bGlzdCAke3BsYXlsaXN0LmlkfTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlYXJjaCBwbGF5bGlzdHMgZm9yIHZpZGVvOicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2Vjb25kUGxheWVyU2VsZWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgLy8gQWx0ZXJuYXRpdmUgTW9kZSAyOiBTYXZlIGN1cnJlbnQgc3RhdGUgYXMgY2hlY2twb2ludCwgc3dpdGNoIHRvIG1vZGUgMiwgbG9hZCB2aWRlbyBpbiBtYWluIHBsYXllclxuICAgIC8vIE9ubHkgc2F2ZSBjaGVja3BvaW50IGlmIHdlJ3JlIGN1cnJlbnRseSBpbiBtb2RlIDFcbiAgICBpZiAoYWN0aXZlUGxheWVyID09PSAxKSB7XG4gICAgICAvLyBTYXZlIGN1cnJlbnQgc3RhdGUgYXMgbW9kZSAxIGNoZWNrcG9pbnRcbiAgICAgIHNldE1vZGUxQ2hlY2twb2ludCh7XG4gICAgICAgIHZpZGVvVXJsOiBjdXJyZW50VmlkZW9VcmwsXG4gICAgICAgIHBsYXlsaXN0SWQ6IGN1cnJlbnRQbGF5bGlzdElkLFxuICAgICAgICB2aWRlb0luZGV4OiBjdXJyZW50VmlkZW9JbmRleCxcbiAgICAgICAgcGxheWxpc3RJdGVtczogWy4uLmN1cnJlbnRQbGF5bGlzdEl0ZW1zXSAvLyBDb3B5IGFycmF5XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIHRoZSB2aWRlbyBpbiBwbGF5bGlzdHNcbiAgICBsZXQgdmlkZW9JbmRleCA9IGN1cnJlbnRQbGF5bGlzdEl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udmlkZW9fdXJsID09PSB2aWRlb1VybCk7XG4gICAgbGV0IGZvdW5kUGxheWxpc3RJZCA9IGN1cnJlbnRQbGF5bGlzdElkO1xuICAgIGxldCBmb3VuZFBsYXlsaXN0SXRlbXMgPSBjdXJyZW50UGxheWxpc3RJdGVtcztcblxuICAgIC8vIElmIG5vdCBmb3VuZCBpbiBjdXJyZW50IHBsYXlsaXN0LCBzZWFyY2ggdGhyb3VnaCBhbGwgcGxheWxpc3RzXG4gICAgaWYgKHZpZGVvSW5kZXggPCAwKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhbGxQbGF5bGlzdHMgPSBhd2FpdCBnZXRBbGxQbGF5bGlzdHMoKTtcbiAgICAgICAgZm9yIChjb25zdCBwbGF5bGlzdCBvZiBhbGxQbGF5bGlzdHMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRQbGF5bGlzdEl0ZW1zKHBsYXlsaXN0LmlkKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaXRlbXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS52aWRlb191cmwgPT09IHZpZGVvVXJsKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgIHZpZGVvSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgZm91bmRQbGF5bGlzdElkID0gcGxheWxpc3QuaWQ7XG4gICAgICAgICAgICAgIGZvdW5kUGxheWxpc3RJdGVtcyA9IGl0ZW1zO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gQ29udGludWUgc2VhcmNoaW5nIG90aGVyIHBsYXlsaXN0c1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGxvYWQgcGxheWxpc3QgJHtwbGF5bGlzdC5pZH06YCwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlYXJjaCBwbGF5bGlzdHMgZm9yIHZpZGVvOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMb2FkIHRoZSB2aWRlbyBpbiB0aGUgbWFpbiBwbGF5ZXIgYW5kIHN3aXRjaCB0byBtb2RlIDJcbiAgICBpZiAodmlkZW9JbmRleCA+PSAwICYmIGZvdW5kUGxheWxpc3RJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBTZXQgcGxheWxpc3QgaXRlbXMgYW5kIHZpZGVvIGluZGV4XG4gICAgICBzZXRQbGF5bGlzdEl0ZW1zKGZvdW5kUGxheWxpc3RJdGVtcywgZm91bmRQbGF5bGlzdElkKTtcbiAgICAgIHNldEN1cnJlbnRWaWRlb0luZGV4KHZpZGVvSW5kZXgpO1xuXG4gICAgICAvLyBTd2l0Y2ggdG8gbW9kZSAyXG4gICAgICBzZXRBY3RpdmVQbGF5ZXIoMik7XG5cbiAgICAgIC8vIFRoZSB2aWRlbyB3aWxsIHBsYXkgdmlhIHRoZSBjdXJyZW50VmlkZW9VcmwgY29tcHV0ZWQgdmFsdWVcbiAgICAgIC8vIHdoaWNoIHdpbGwgdXBkYXRlIHdoZW4gY3VycmVudFZpZGVvSW5kZXggY2hhbmdlc1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgbW9kZSB0b2dnbGUgLSByZXN0b3JlIGNoZWNrcG9pbnQgd2hlbiBzd2l0Y2hpbmcgZnJvbSBtb2RlIDIgdG8gbW9kZSAxXG4gIGNvbnN0IGhhbmRsZUFjdGl2ZVBsYXllckNoYW5nZSA9IChuZXdBY3RpdmVQbGF5ZXIpID0+IHtcbiAgICBpZiAoYWN0aXZlUGxheWVyID09PSAyICYmIG5ld0FjdGl2ZVBsYXllciA9PT0gMSAmJiBtb2RlMUNoZWNrcG9pbnQpIHtcbiAgICAgIC8vIFJlc3RvcmUgbW9kZSAxIGNoZWNrcG9pbnRcbiAgICAgIHNldFBsYXlsaXN0SXRlbXMobW9kZTFDaGVja3BvaW50LnBsYXlsaXN0SXRlbXMsIG1vZGUxQ2hlY2twb2ludC5wbGF5bGlzdElkKTtcbiAgICAgIHNldEN1cnJlbnRWaWRlb0luZGV4KG1vZGUxQ2hlY2twb2ludC52aWRlb0luZGV4KTtcbiAgICAgIC8vIENsZWFyIGNoZWNrcG9pbnQgYWZ0ZXIgcmVzdG9yaW5nXG4gICAgICBzZXRNb2RlMUNoZWNrcG9pbnQobnVsbCk7XG4gICAgfVxuICAgIHNldEFjdGl2ZVBsYXllcihuZXdBY3RpdmVQbGF5ZXIpO1xuICB9O1xuXG4gIC8vIEhhbmRsZSB2aWRlbyBlbmRlZCAtIGF1dG9wbGF5IG5leHQgdmlkZW9cbiAgY29uc3QgaGFuZGxlVmlkZW9FbmRlZCA9IChlbmRlZFBsYXllcklkKSA9PiB7XG4gICAgY29uc29sZS5sb2coYFZpZGVvIGVuZGVkIGluIHBsYXllcjogJHtlbmRlZFBsYXllcklkfWApO1xuXG4gICAgaWYgKGVuZGVkUGxheWVySWQgPT09ICdtYWluJykge1xuICAgICAgLy8gTWFpbiBwbGF5ZXIgY29ycmVzcG9uZHMgdG8gY3VycmVudFBsYXlsaXN0SXRlbXMgYW5kIGN1cnJlbnRWaWRlb0luZGV4XG4gICAgICBjb25zdCBuZXh0SW5kZXggPSBjdXJyZW50VmlkZW9JbmRleCArIDE7XG4gICAgICBpZiAobmV4dEluZGV4IDwgY3VycmVudFBsYXlsaXN0SXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRvcGxheWluZyBuZXh0IHZpZGVvIGluIG1haW4gcGxheWxpc3QnKTtcbiAgICAgICAgc2V0Q3VycmVudFZpZGVvSW5kZXgobmV4dEluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNYWluIHBsYXlsaXN0IHJlYWNoZWQgZW5kJyk7XG4gICAgICAgIC8vIE9wdGlvbmFsOiBMb29wIGJhY2sgdG8gc3RhcnQgaWYgcmVwZWF0IG1vZGUgaXMgYWRkZWQgbGF0ZXJcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVuZGVkUGxheWVySWQgPT09ICdzZWNvbmQnKSB7XG4gICAgICAvLyBTZWNvbmQgcGxheWVyXG4gICAgICAvLyBXZSBoYXZlIHNlY29uZFBsYXllclBsYXlsaXN0SXRlbXMgYW5kIHNlY29uZFBsYXllclZpZGVvSW5kZXhcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IHNlY29uZFBsYXllclZpZGVvSW5kZXggKyAxO1xuICAgICAgaWYgKG5leHRJbmRleCA8IHNlY29uZFBsYXllclBsYXlsaXN0SXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRvcGxheWluZyBuZXh0IHZpZGVvIGluIHNlY29uZCBwbGF5bGlzdCcpO1xuICAgICAgICBzZXRTZWNvbmRQbGF5ZXJWaWRlb0luZGV4KG5leHRJbmRleCk7XG4gICAgICAgIC8vIFNpbmNlIHdlIG1hbnVhbGx5IG1hbmFnZSBzZWNvbmQgcGxheWVyIFVSTCBiYXNlZCBvbiBpbmRleCBpbiBoYW5kbGVWaWRlb1NlbGVjdCBsb2dpYyAobW9zdGx5KSwgXG4gICAgICAgIC8vIGJ1dCBoZXJlIHdlIGFyZW4ndCB1c2luZyBoYW5kbGVWaWRlb1NlbGVjdC4gV2Ugc2hvdWxkIHVwZGF0ZSB0aGUgVVJMLlxuICAgICAgICAvLyBOb3RlOiBBcHAuanN4IGRvZXNuJ3QgaGF2ZSBhIGNsZWFuIFwic2V0U2Vjb25kUGxheWVySW5kZXhBbmRVcmxcIiBidXQgd2UgY2FuIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgICBjb25zdCBuZXh0VmlkZW8gPSBzZWNvbmRQbGF5ZXJQbGF5bGlzdEl0ZW1zW25leHRJbmRleF07XG4gICAgICAgIGlmIChuZXh0VmlkZW8pIHtcbiAgICAgICAgICBzZXRTZWNvbmRQbGF5ZXJWaWRlb1VybChuZXh0VmlkZW8udmlkZW9fdXJsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NlY29uZCBwbGF5bGlzdCByZWFjaGVkIGVuZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgYXBwLWNvbnRhaW5lciBiZy1bcmFkaWFsLWdyYWRpZW50KGNpcmNsZV9hdF9jZW50ZXIsX3ZhcigtLXR3LWdyYWRpZW50LXN0b3BzKSldICR7VEhFTUVTW2N1cnJlbnRUaGVtZUlkXS5iZ31gfSBzdHlsZT17eyB3aWR0aDogJzEwMHZ3JywgaGVpZ2h0OiAnMTAwdmgnLCBvdmVyZmxvdzogJ2hpZGRlbicgfX0+XG4gICAgICB7LyogVmlldyBNb2RlIFRvZ2dsZSAtIFRlbXBvcmFyeSBmb3IgdGVzdGluZyAtIENvbnRyb2xsZWQgYnkgRGV2IFRvb2xiYXIgVG9nZ2xlICovfVxuICAgICAge3Nob3dEZXZUb29sYmFyICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aWV3LW1vZGUtdG9nZ2xlXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Vmlld01vZGUoJ2Z1bGwnKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17dmlld01vZGUgPT09ICdmdWxsJyA/ICdhY3RpdmUnIDogJyd9XG4gICAgICAgICAgICB0aXRsZT17Z2V0SW5zcGVjdFRpdGxlKCdGdWxsIHNjcmVlbiB2aWV3Jyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRnVsbFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFZpZXdNb2RlKCdoYWxmJyl9XG4gICAgICAgICAgICBjbGFzc05hbWU9e3ZpZXdNb2RlID09PSAnaGFsZicgPyAnYWN0aXZlJyA6ICcnfVxuICAgICAgICAgICAgdGl0bGU9e2dldEluc3BlY3RUaXRsZSgnSGFsZiBzY3JlZW4gdmlldycpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIEhhbGZcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3TW9kZSgncXVhcnRlcicpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXt2aWV3TW9kZSA9PT0gJ3F1YXJ0ZXInID8gJ2FjdGl2ZScgOiAnJ31cbiAgICAgICAgICAgIHRpdGxlPXtnZXRJbnNwZWN0VGl0bGUoJ1F1YXJ0ZXIgc2NyZWVuIHZpZXcnKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBRdWFydGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgey8qIE1lbnUgUXVhcnRlciBNb2RlIFRvZ2dsZSAtIE9ubHkgdmlzaWJsZSBvdXRzaWRlIGZ1bGwgc2NyZWVuICovfVxuICAgICAgICAgIHt2aWV3TW9kZSAhPT0gJ2Z1bGwnICYmIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlTWVudVF1YXJ0ZXJNb2RlfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e21lbnVRdWFydGVyTW9kZSA/ICdhY3RpdmUnIDogJyd9XG4gICAgICAgICAgICAgIHRpdGxlPXtnZXRJbnNwZWN0VGl0bGUoJ1RvZ2dsZSBtZW51IHF1YXJ0ZXIgbW9kZScpIHx8ICdUb2dnbGUgTWVudSBRdWFydGVyIE1vZGUnfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBNZW51IFFcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgICAgey8qIERlYnVnIEJvdW5kcyBUb2dnbGUgKi99XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlRGVidWdCb3VuZHN9XG4gICAgICAgICAgICBjbGFzc05hbWU9e3Nob3dEZWJ1Z0JvdW5kcyA/ICdhY3RpdmUnIDogJyd9XG4gICAgICAgICAgICB0aXRsZT17Z2V0SW5zcGVjdFRpdGxlKCdUb2dnbGUgZGVidWcgYm91bmRzJykgfHwgJ1RvZ2dsZSBEZWJ1ZyBCb3VuZHMnfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzaG93RGVidWdCb3VuZHMgPyAnIzNiODJmNicgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICBjb2xvcjogc2hvd0RlYnVnQm91bmRzID8gJ3doaXRlJyA6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMzYjgyZjYnLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIERlYnVnXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgey8qIEluc3BlY3QgTW9kZSBUb2dnbGUgKi99XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlSW5zcGVjdE1vZGV9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2luc3BlY3RNb2RlID8gJ2FjdGl2ZScgOiAnJ31cbiAgICAgICAgICAgIHRpdGxlPXtnZXRJbnNwZWN0VGl0bGUoJ1RvZ2dsZSBpbnNwZWN0IG1vZGUnKSB8fCAnVG9nZ2xlIEluc3BlY3QgTW9kZSd9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGluc3BlY3RNb2RlID8gJyM4YjVjZjYnIDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgY29sb3I6IGluc3BlY3RNb2RlID8gJ3doaXRlJyA6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM4YjVjZjYnLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAnOHB4J1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBJbnNwZWN0XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgey8qIFJ1bGVyIFRvZ2dsZSAqL31cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVSdWxlcn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17c2hvd1J1bGVyID8gJ2FjdGl2ZScgOiAnJ31cbiAgICAgICAgICAgIHRpdGxlPXtnZXRJbnNwZWN0VGl0bGUoJ1RvZ2dsZSBydWxlcicpIHx8ICdUb2dnbGUgUnVsZXInfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzaG93UnVsZXIgPyAnI2VmNDQ0NCcgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICBjb2xvcjogc2hvd1J1bGVyID8gJ3doaXRlJyA6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlZjQ0NDQnLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAnOHB4J1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBSdWxlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIHsvKiBSYWRpYWwgTWVudSBUb2dnbGUgKi99XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UmFkaWFsTWVudVZpc2libGUoIXJhZGlhbE1lbnVWaXNpYmxlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17cmFkaWFsTWVudVZpc2libGUgPyAnYWN0aXZlJyA6ICcnfVxuICAgICAgICAgICAgdGl0bGU9e2dldEluc3BlY3RUaXRsZSgnVG9nZ2xlIHJhZGlhbCBtZW51JykgfHwgJ1RvZ2dsZSBSYWRpYWwgTWVudSd9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHJhZGlhbE1lbnVWaXNpYmxlID8gJyMxMGI5ODEnIDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgY29sb3I6IHJhZGlhbE1lbnVWaXNpYmxlID8gJ3doaXRlJyA6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMxMGI5ODEnLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAnOHB4J1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBNZW51XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPExheW91dFNoZWxsXG4gICAgICAgIHRvcENvbnRyb2xsZXI9ezxQbGF5ZXJDb250cm9sbGVyXG4gICAgICAgICAgb25QbGF5bGlzdFNlbGVjdD17aGFuZGxlUGxheWxpc3RTZWxlY3R9XG4gICAgICAgICAgb25WaWRlb1NlbGVjdD17aGFuZGxlVmlkZW9TZWxlY3R9XG4gICAgICAgICAgYWN0aXZlUGxheWVyPXthY3RpdmVQbGF5ZXJ9XG4gICAgICAgICAgb25BY3RpdmVQbGF5ZXJDaGFuZ2U9e2hhbmRsZUFjdGl2ZVBsYXllckNoYW5nZX1cbiAgICAgICAgICBzZWNvbmRQbGF5ZXJWaWRlb1VybD17c2Vjb25kUGxheWVyVmlkZW9Vcmx9XG5cbiAgICAgICAgICBzZWNvbmRQbGF5ZXJWaWRlb0luZGV4PXtzZWNvbmRQbGF5ZXJWaWRlb0luZGV4fVxuICAgICAgICAgIG9uU2Vjb25kUGxheWVyVmlkZW9JbmRleENoYW5nZT17c2V0U2Vjb25kUGxheWVyVmlkZW9JbmRleH1cbiAgICAgICAgICBzZWNvbmRQbGF5ZXJQbGF5bGlzdElkPXtzZWNvbmRQbGF5ZXJQbGF5bGlzdElkfVxuICAgICAgICAgIHNlY29uZFBsYXllclBsYXlsaXN0SXRlbXM9e3NlY29uZFBsYXllclBsYXlsaXN0SXRlbXN9XG4gICAgICAgICAgY3VycmVudFRoZW1lSWQ9e2N1cnJlbnRUaGVtZUlkfVxuICAgICAgICAgIG9uVGhlbWVDaGFuZ2U9e3NldEN1cnJlbnRUaGVtZUlkfVxuICAgICAgICAvPn1cbiAgICAgICAgbWFpblBsYXllcj17XG4gICAgICAgICAgaXNDdXJyZW50VmlkZW9Mb2NhbCA/IChcbiAgICAgICAgICAgIDxOYXRpdmVWaWRlb1BsYXllclxuICAgICAgICAgICAgICB2aWRlb1VybD17Y3VycmVudFZpZGVvVXJsfVxuICAgICAgICAgICAgICB2aWRlb0lkPXtjdXJyZW50VmlkZW9JZH1cbiAgICAgICAgICAgICAgcGxheWVySWQ9XCJtYWluXCJcbiAgICAgICAgICAgICAgb25FbmRlZD17KCkgPT4gaGFuZGxlVmlkZW9FbmRlZCgnbWFpbicpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPFlvdVR1YmVQbGF5ZXJcbiAgICAgICAgICAgICAgdmlkZW9Vcmw9e2N1cnJlbnRWaWRlb1VybH1cbiAgICAgICAgICAgICAgcGxheWVySWQ9XCJtYWluXCJcbiAgICAgICAgICAgICAgb25FbmRlZD17KCkgPT4gaGFuZGxlVmlkZW9FbmRlZCgnbWFpbicpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgc2Vjb25kUGxheWVyPXtzZWNvbmRQbGF5ZXJWaWRlb1VybCA/IDxZb3VUdWJlUGxheWVyIHZpZGVvVXJsPXtzZWNvbmRQbGF5ZXJWaWRlb1VybH0gcGxheWVySWQ9XCJzZWNvbmRcIiBvbkVuZGVkPXsoKSA9PiBoYW5kbGVWaWRlb0VuZGVkKCdzZWNvbmQnKX0gLz4gOiBudWxsfVxuICAgICAgICBtaW5pSGVhZGVyPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgcHgtNFwiPlxuICAgICAgICAgICAgPFRvcE5hdmlnYXRpb24gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICBhbmltYXRlZE1lbnU9e1xuICAgICAgICAgIHJhZGlhbE1lbnVWaXNpYmxlICYmIGNvbnRhaW5lckNvbmZpZyAmJiBkaWN0aW9uYXJ5Q29uZmlnID8gKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAgICAgICAgICAgekluZGV4OiAxMFxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgIDxSYWRpYWxNZW51U3RhbmRhbG9uZVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckNvbmZpZz17Y29udGFpbmVyQ29uZmlnfVxuICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlDb25maWc9e2RpY3Rpb25hcnlDb25maWd9XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yPVwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgfVxuICAgICAgICBzcGFjZXJNZW51PXtudWxsfVxuICAgICAgICBtZW51U3BhY2VyTWVudT17bnVsbH1cbiAgICAgICAgc2lkZU1lbnU9e1xuICAgICAgICAgIHNob3dQbGF5bGlzdHMgJiYgZGJJbml0aWFsaXplZCA/IChcbiAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT0gUkVOREVSSU5HIFBMQVlMSVNUTElTVCBJTiBBUFAgPT09Jyk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93UGxheWxpc3RzOicsIHNob3dQbGF5bGlzdHMpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGJJbml0aWFsaXplZDonLCBkYkluaXRpYWxpemVkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIDxQbGF5bGlzdExpc3Qgb25QbGF5bGlzdFNlbGVjdD17aGFuZGxlUGxheWxpc3RTZWxlY3R9IG9uVmlkZW9TZWxlY3Q9e2hhbmRsZVZpZGVvU2VsZWN0fSAvPjtcbiAgICAgICAgICAgIH0pKClcbiAgICAgICAgICApIDogc2hvd1BsYXlsaXN0cyAmJiAhZGJJbml0aWFsaXplZCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy1mdWxsIGgtZnVsbFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJsYWNrXCI+SW5pdGlhbGl6aW5nIGRhdGFiYXNlLi4uPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6ICFzaG93UGxheWxpc3RzICYmIGN1cnJlbnRQYWdlID09PSAncGxheWxpc3RzJyA/IChcbiAgICAgICAgICAgIDxQbGF5bGlzdHNQYWdlIG9uVmlkZW9TZWxlY3Q9e2hhbmRsZVZpZGVvU2VsZWN0fSAvPlxuICAgICAgICAgICkgOiAhc2hvd1BsYXlsaXN0cyAmJiBjdXJyZW50UGFnZSA9PT0gJ3ZpZGVvcycgPyAoXG4gICAgICAgICAgICA8VmlkZW9zUGFnZSBvblZpZGVvU2VsZWN0PXtoYW5kbGVWaWRlb1NlbGVjdH0gb25TZWNvbmRQbGF5ZXJTZWxlY3Q9e2hhbmRsZVNlY29uZFBsYXllclNlbGVjdH0gLz5cbiAgICAgICAgICApIDogIXNob3dQbGF5bGlzdHMgJiYgY3VycmVudFBhZ2UgPT09ICdoaXN0b3J5JyA/IChcbiAgICAgICAgICAgIDxIaXN0b3J5UGFnZSBvblZpZGVvU2VsZWN0PXtoYW5kbGVWaWRlb1NlbGVjdH0gb25TZWNvbmRQbGF5ZXJTZWxlY3Q9e2hhbmRsZVNlY29uZFBsYXllclNlbGVjdH0gLz5cbiAgICAgICAgICApIDogIXNob3dQbGF5bGlzdHMgJiYgY3VycmVudFBhZ2UgPT09ICdsaWtlcycgPyAoXG4gICAgICAgICAgICA8TGlrZXNQYWdlIG9uVmlkZW9TZWxlY3Q9e2hhbmRsZVZpZGVvU2VsZWN0fSAvPlxuICAgICAgICAgICkgOiAhc2hvd1BsYXlsaXN0cyAmJiBjdXJyZW50UGFnZSA9PT0gJ3BpbnMnID8gKFxuICAgICAgICAgICAgPFBpbnNQYWdlIG9uVmlkZW9TZWxlY3Q9e2hhbmRsZVZpZGVvU2VsZWN0fSAvPlxuXG4gICAgICAgICAgKSA6ICFzaG93UGxheWxpc3RzICYmIGN1cnJlbnRQYWdlID09PSAnc2V0dGluZ3MnID8gKFxuICAgICAgICAgICAgPFNldHRpbmdzUGFnZSBjdXJyZW50VGhlbWVJZD17Y3VycmVudFRoZW1lSWR9IG9uVGhlbWVDaGFuZ2U9e3NldEN1cnJlbnRUaGVtZUlkfSAvPlxuICAgICAgICAgICkgOiAhc2hvd1BsYXlsaXN0cyAmJiBjdXJyZW50UGFnZSA9PT0gJ3N1cHBvcnQnID8gKFxuICAgICAgICAgICAgPFN1cHBvcnRQYWdlIG9uVmlkZW9TZWxlY3Q9e2hhbmRsZVZpZGVvU2VsZWN0fSAvPlxuICAgICAgICAgICkgOiBudWxsXG4gICAgICAgIH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiJdLCJmaWxlIjoiQzovUHJvamVjdHMveXR0djIvc3JjL0FwcC5qc3gifQ==